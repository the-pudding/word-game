import{S as Q,i as Z,s as X,l as v,e as oe,V as Bs,m as w,h as d,p,M as m,E as te,W as Oe,b as R,O as B,o as Nt,P as ye,C as Er,X as Hs,Y as qs,Z as Gs,r as M,n as T,u as L,_ as hn,L as x,v as Ee,$ as ps,a0 as Fs,g as ce,a1 as zs,d as he,f as $,t as P,w as G,x as F,y as z,B as V,a2 as Vs,a as C,c as N,q as fe,a3 as Ws,a4 as yt,N as ue,G as Xe,a5 as St,D as Js,a6 as xt,a7 as xs,a8 as Ks,a9 as gs,aa as _s,ab as fn,z as Ys,ac as vs,ad as Xs}from"./index-2c34249c.js";import{w as ws,r as Qs}from"./index-a5e82436.js";import{g as kt,w as $t,r as Ye,a as Le,l as Ar,b as bs,i as Te,t as ys,d as Et,e as At,p as Tr,f as Cr,o as Be,h as Nr,R as dn}from"./copy-983e8fbc.js";import{_ as Kt}from"./preload-helper-43c63d57.js";function Zs(s,e){return s==null||e==null?NaN:s<e?-1:s>e?1:s>=e?0:NaN}const ei=ti(Math.random);function ti(s){return function(t,r=0,n=t.length){let o=n-(r=+r);for(;o;){const i=s()*o--|0,a=t[o+r];t[o+r]=t[i+r],t[i+r]=a}return t}}var mn={},_r={},vr=34,Ot=10,wr=13;function ks(s){return new Function("d","return {"+s.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function ri(s,e){var t=ks(s);return function(r,n){return e(t(r),n,s)}}function pn(s){var e=Object.create(null),t=[];return s.forEach(function(r){for(var n in r)n in e||t.push(e[n]=n)}),t}function be(s,e){var t=s+"",r=t.length;return r<e?new Array(e-r+1).join(0)+t:t}function ni(s){return s<0?"-"+be(-s,6):s>9999?"+"+be(s,6):be(s,4)}function si(s){var e=s.getUTCHours(),t=s.getUTCMinutes(),r=s.getUTCSeconds(),n=s.getUTCMilliseconds();return isNaN(s)?"Invalid Date":ni(s.getUTCFullYear())+"-"+be(s.getUTCMonth()+1,2)+"-"+be(s.getUTCDate(),2)+(n?"T"+be(e,2)+":"+be(t,2)+":"+be(r,2)+"."+be(n,3)+"Z":r?"T"+be(e,2)+":"+be(t,2)+":"+be(r,2)+"Z":t||e?"T"+be(e,2)+":"+be(t,2)+"Z":"")}function ii(s){var e=new RegExp('["'+s+`
\r]`),t=s.charCodeAt(0);function r(h,g){var f,_,b=n(h,function(E,O){if(f)return f(E,O-1);_=E,f=g?ri(E,g):ks(E)});return b.columns=_||[],b}function n(h,g){var f=[],_=h.length,b=0,E=0,O,I=_<=0,y=!1;h.charCodeAt(_-1)===Ot&&--_,h.charCodeAt(_-1)===wr&&--_;function S(){if(I)return _r;if(y)return y=!1,mn;var J,H=b,W;if(h.charCodeAt(H)===vr){for(;b++<_&&h.charCodeAt(b)!==vr||h.charCodeAt(++b)===vr;);return(J=b)>=_?I=!0:(W=h.charCodeAt(b++))===Ot?y=!0:W===wr&&(y=!0,h.charCodeAt(b)===Ot&&++b),h.slice(H+1,J-1).replace(/""/g,'"')}for(;b<_;){if((W=h.charCodeAt(J=b++))===Ot)y=!0;else if(W===wr)y=!0,h.charCodeAt(b)===Ot&&++b;else if(W!==t)continue;return h.slice(H,J)}return I=!0,h.slice(H,_)}for(;(O=S())!==_r;){for(var A=[];O!==mn&&O!==_r;)A.push(O),O=S();g&&(A=g(A,E++))==null||f.push(A)}return f}function o(h,g){return h.map(function(f){return g.map(function(_){return u(f[_])}).join(s)})}function i(h,g){return g==null&&(g=pn(h)),[g.map(u).join(s)].concat(o(h,g)).join(`
`)}function a(h,g){return g==null&&(g=pn(h)),o(h,g).join(`
`)}function l(h){return h.map(c).join(`
`)}function c(h){return h.map(u).join(s)}function u(h){return h==null?"":h instanceof Date?si(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:n,format:i,formatBody:a,formatRows:l,formatRow:c,formatValue:u}}var oi=ii(","),ai=oi.parse;function li(s){return Math.abs(s=Math.round(s))>=1e21?s.toLocaleString("en").replace(/,/g,""):s.toString(10)}function Wt(s,e){if((t=(s=e?s.toExponential(e-1):s.toExponential()).indexOf("e"))<0)return null;var t,r=s.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+s.slice(t+1)]}function ui(s){return s=Wt(Math.abs(s)),s?s[1]:NaN}function ci(s,e){return function(t,r){for(var n=t.length,o=[],i=0,a=s[0],l=0;n>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(t.substring(n-=a,n+a)),!((l+=a+1)>r));)a=s[i=(i+1)%s.length];return o.reverse().join(e)}}function hi(s){return function(e){return e.replace(/[0-9]/g,function(t){return s[+t]})}}var fi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sr(s){if(!(e=fi.exec(s)))throw new Error("invalid format: "+s);var e;return new Dr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sr.prototype=Dr.prototype;function Dr(s){this.fill=s.fill===void 0?" ":s.fill+"",this.align=s.align===void 0?">":s.align+"",this.sign=s.sign===void 0?"-":s.sign+"",this.symbol=s.symbol===void 0?"":s.symbol+"",this.zero=!!s.zero,this.width=s.width===void 0?void 0:+s.width,this.comma=!!s.comma,this.precision=s.precision===void 0?void 0:+s.precision,this.trim=!!s.trim,this.type=s.type===void 0?"":s.type+""}Dr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function di(s){e:for(var e=s.length,t=1,r=-1,n;t<e;++t)switch(s[t]){case".":r=n=t;break;case"0":r===0&&(r=t),n=t;break;default:if(!+s[t])break e;r>0&&(r=0);break}return r>0?s.slice(0,r)+s.slice(n+1):s}var Es;function mi(s,e){var t=Wt(s,e);if(!t)return s+"";var r=t[0],n=t[1],o=n-(Es=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Wt(s,Math.max(0,e+o-1))[0]}function gn(s,e){var t=Wt(s,e);if(!t)return s+"";var r=t[0],n=t[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const _n={"%":(s,e)=>(s*100).toFixed(e),b:s=>Math.round(s).toString(2),c:s=>s+"",d:li,e:(s,e)=>s.toExponential(e),f:(s,e)=>s.toFixed(e),g:(s,e)=>s.toPrecision(e),o:s=>Math.round(s).toString(8),p:(s,e)=>gn(s*100,e),r:gn,s:mi,X:s=>Math.round(s).toString(16).toUpperCase(),x:s=>Math.round(s).toString(16)};function vn(s){return s}var wn=Array.prototype.map,bn=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function pi(s){var e=s.grouping===void 0||s.thousands===void 0?vn:ci(wn.call(s.grouping,Number),s.thousands+""),t=s.currency===void 0?"":s.currency[0]+"",r=s.currency===void 0?"":s.currency[1]+"",n=s.decimal===void 0?".":s.decimal+"",o=s.numerals===void 0?vn:hi(wn.call(s.numerals,String)),i=s.percent===void 0?"%":s.percent+"",a=s.minus===void 0?"\u2212":s.minus+"",l=s.nan===void 0?"NaN":s.nan+"";function c(h){h=Sr(h);var g=h.fill,f=h.align,_=h.sign,b=h.symbol,E=h.zero,O=h.width,I=h.comma,y=h.precision,S=h.trim,A=h.type;A==="n"?(I=!0,A="g"):_n[A]||(y===void 0&&(y=12),S=!0,A="g"),(E||g==="0"&&f==="=")&&(E=!0,g="0",f="=");var J=b==="$"?t:b==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",H=b==="$"?r:/[%p]/.test(A)?i:"",W=_n[A],U=/[defgprs%]/.test(A);y=y===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function ee(q){var K=J,D=H,k,j,Y;if(A==="c")D=W(q)+D,q="";else{q=+q;var re=q<0||1/q<0;if(q=isNaN(q)?l:W(Math.abs(q),y),S&&(q=di(q)),re&&+q==0&&_!=="+"&&(re=!1),K=(re?_==="("?_:a:_==="-"||_==="("?"":_)+K,D=(A==="s"?bn[8+Es/3]:"")+D+(re&&_==="("?")":""),U){for(k=-1,j=q.length;++k<j;)if(Y=q.charCodeAt(k),48>Y||Y>57){D=(Y===46?n+q.slice(k+1):q.slice(k))+D,q=q.slice(0,k);break}}}I&&!E&&(q=e(q,1/0));var me=K.length+q.length+D.length,de=me<O?new Array(O-me+1).join(g):"";switch(I&&E&&(q=e(de+q,de.length?O-D.length:1/0),de=""),f){case"<":q=K+q+D+de;break;case"=":q=K+de+q+D;break;case"^":q=de.slice(0,me=de.length>>1)+K+q+D+de.slice(me);break;default:q=de+K+q+D;break}return o(q)}return ee.toString=function(){return h+""},ee}function u(h,g){var f=c((h=Sr(h),h.type="f",h)),_=Math.max(-8,Math.min(8,Math.floor(ui(g)/3)))*3,b=Math.pow(10,-_),E=bn[8+_/3];return function(O){return f(b*O)+E}}return{format:c,formatPrefix:u}}var qt,Ts;gi({thousands:",",grouping:[3],currency:["$",""]});function gi(s){return qt=pi(s),Ts=qt.format,qt.formatPrefix,qt}function yn(s,e,t){const r=s.slice();return r[5]=e[t],r}function kn(s){let e,t;return{c(){e=v("link"),this.h()},l(r){e=w(r,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){p(e,"rel","preload"),p(e,"href",t=s[5]),p(e,"as","font"),p(e,"type","font/woff2"),p(e,"crossorigin","")},m(r,n){R(r,e,n)},p(r,n){n&16&&t!==(t=r[5])&&p(e,"href",t)},d(r){r&&d(e)}}}function _i(s){let e,t,r,n,o,i,a,l,c,u,h,g,f,_,b,E,O,I,y,S,A,J,H,W,U,ee;document.title=e=s[0];let q=s[4],K=[];for(let D=0;D<q.length;D+=1)K[D]=kn(yn(s,q,D));return{c(){t=v("meta"),r=v("meta"),n=v("meta"),o=v("meta"),i=v("meta"),a=v("meta"),l=v("meta"),c=v("meta"),u=v("meta"),h=v("meta"),f=v("meta"),_=v("meta"),b=v("meta"),E=v("meta"),O=v("meta"),I=v("meta"),y=v("meta"),S=v("meta"),A=v("meta"),H=v("meta"),W=v("link");for(let D=0;D<K.length;D+=1)K[D].c();ee=oe(),this.h()},l(D){const k=Bs('[data-svelte="svelte-1htu80s"]',document.head);t=w(k,"META",{name:!0,content:!0}),r=w(k,"META",{name:!0,content:!0}),n=w(k,"META",{name:!0,content:!0}),o=w(k,"META",{property:!0,content:!0}),i=w(k,"META",{property:!0,content:!0}),a=w(k,"META",{property:!0,content:!0}),l=w(k,"META",{property:!0,content:!0}),c=w(k,"META",{property:!0,content:!0}),u=w(k,"META",{property:!0,content:!0}),h=w(k,"META",{property:!0,content:!0}),f=w(k,"META",{property:!0,content:!0}),_=w(k,"META",{property:!0,content:!0}),b=w(k,"META",{property:!0,content:!0}),E=w(k,"META",{name:!0,content:!0}),O=w(k,"META",{name:!0,content:!0}),I=w(k,"META",{name:!0,content:!0}),y=w(k,"META",{name:!0,content:!0}),S=w(k,"META",{name:!0,content:!0}),A=w(k,"META",{name:!0,content:!0}),H=w(k,"META",{name:!0,content:!0}),W=w(k,"LINK",{rel:!0,href:!0});for(let j=0;j<K.length;j+=1)K[j].l(k);ee=oe(),k.forEach(d),this.h()},h(){p(t,"name","description"),p(t,"content",s[1]),p(r,"name","author"),p(r,"content","The Pudding"),p(n,"name","news_keywords"),p(n,"content",s[3]),p(o,"property","og:title"),p(o,"content",s[0]),p(i,"property","og:site_name"),p(i,"content","The Pudding"),p(a,"property","og:url"),p(a,"content",s[2]),p(l,"property","og:description"),p(l,"content",s[1]),p(c,"property","og:type"),p(c,"content","article"),p(u,"property","og:locale"),p(u,"content","en_US"),p(h,"property","og:image"),p(h,"content",g=s[2]+"/assets/social-facebook.jpg"),p(f,"property","og:image:type"),p(f,"content","image/jpeg"),p(_,"property","og:image:width"),p(_,"content","1200"),p(b,"property","og:image:height"),p(b,"content","600"),p(E,"name","twitter:card"),p(E,"content","summary_large_image"),p(O,"name","twitter:site"),p(O,"content","https://pudding.cool"),p(I,"name","twitter:creator"),p(I,"content","@puddingviz"),p(y,"name","twitter:title"),p(y,"content",s[0]),p(S,"name","twitter:description"),p(S,"content",s[1]),p(A,"name","twitter:image:src"),p(A,"content",J=s[2]+"/assets/social-twitter.jpg"),p(H,"name","robots"),p(H,"content","max-image-preview:large"),p(W,"rel","canonical"),p(W,"href",U=s[2]+"/")},m(D,k){m(document.head,t),m(document.head,r),m(document.head,n),m(document.head,o),m(document.head,i),m(document.head,a),m(document.head,l),m(document.head,c),m(document.head,u),m(document.head,h),m(document.head,f),m(document.head,_),m(document.head,b),m(document.head,E),m(document.head,O),m(document.head,I),m(document.head,y),m(document.head,S),m(document.head,A),m(document.head,H),m(document.head,W);for(let j=0;j<K.length;j+=1)K[j].m(document.head,null);m(document.head,ee)},p(D,[k]){if(k&1&&e!==(e=D[0])&&(document.title=e),k&2&&p(t,"content",D[1]),k&8&&p(n,"content",D[3]),k&1&&p(o,"content",D[0]),k&4&&p(a,"content",D[2]),k&2&&p(l,"content",D[1]),k&4&&g!==(g=D[2]+"/assets/social-facebook.jpg")&&p(h,"content",g),k&1&&p(y,"content",D[0]),k&2&&p(S,"content",D[1]),k&4&&J!==(J=D[2]+"/assets/social-twitter.jpg")&&p(A,"content",J),k&4&&U!==(U=D[2]+"/")&&p(W,"href",U),k&16){q=D[4];let j;for(j=0;j<q.length;j+=1){const Y=yn(D,q,j);K[j]?K[j].p(Y,k):(K[j]=kn(Y),K[j].c(),K[j].m(ee.parentNode,ee))}for(;j<K.length;j+=1)K[j].d(1);K.length=q.length}},i:te,o:te,d(D){d(t),d(r),d(n),d(o),d(i),d(a),d(l),d(c),d(u),d(h),d(f),d(_),d(b),d(E),d(O),d(I),d(y),d(S),d(A),d(H),d(W),Oe(K,D),d(ee)}}}function vi(s,e,t){let{title:r="Title TK"}=e,{description:n="Description TK"}=e,{url:o="https://pudding.cool"}=e,{keywords:i=""}=e,{preloadFont:a=[]}=e;return s.$$set=l=>{"title"in l&&t(0,r=l.title),"description"in l&&t(1,n=l.description),"url"in l&&t(2,o=l.url),"keywords"in l&&t(3,i=l.keywords),"preloadFont"in l&&t(4,a=l.preloadFont)},[r,n,o,i,a]}class qu extends Q{constructor(e){super(),Z(this,e,vi,_i,X,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}let Ve,Pt;const Tt=ws(0),Ss=s=>{Pt||(Pt=s);const e=Math.round(s-Pt);Pt=s,Tt.update(t=>t+e),Ve=window.requestAnimationFrame(Ss)},Rt={start(){Ve||(Pt=null,Ve=window.requestAnimationFrame(Ss))},stop(){Ve&&(window.cancelAnimationFrame(Ve),Ve=null)},toggle(){Ve?Rt.stop():Rt.start()},set(s){typeof s=="number"&&Tt.set(s)},reset(){Tt.set(0)}},Vt=({lemmas:s,corpus:e})=>!!s.split("|").filter(r=>!!e.find(n=>n===r)).length;async function Yt(s){const t=await(await fetch(s)).text();return ai(t)}async function wi(s){const e=`https://pudding.cool/games/words-against-strangers-data/wod-answers/${s}.csv?version=${Date.now()}`;return(await Yt(e)).map(n=>({...n,round:+n.round,timestamp:+n.timestamp,points:+n.points}))}function bi(s,e,t){let r,n,o,i,a,l;B(s,kt,f=>t(2,r=f)),B(s,$t,f=>t(3,n=f)),B(s,Ye,f=>t(4,o=f)),B(s,Le,f=>t(5,i=f)),B(s,Tt,f=>t(0,a=f)),B(s,Ar,f=>t(6,l=f));let c=[];const u=f=>Vt({lemmas:f,corpus:l}),h=({lemmas:f})=>{const _=!u(f);return{valid:_,reason:_?void 0:0}},g=()=>{const f=c.findIndex(_=>_.round===o&&a>=_.timestamp);if(f>-1){const[_]=c.splice(f,1),b={..._,...h(_)};ye(Le,i.wod[o]=[...i.wod[o],b],i)}};return Nt(async()=>{n||(c=await wi(r))}),s.$$.update=()=>{s.$$.dirty&1&&g()},[a]}class yi extends Q{constructor(e){super(),Z(this,e,bi,null,X,{})}}function ki(s){const e=s-1;return e*e*e+1}function Ei(s){return Math.pow(s,4)}function En(s){return Object.prototype.toString.call(s)==="[object Date]"}function $r(s,e){if(s===e||s!==s)return()=>s;const t=typeof s;if(t!==typeof e||Array.isArray(s)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const r=e.map((n,o)=>$r(s[o],n));return n=>r.map(o=>o(n))}if(t==="object"){if(!s||!e)throw new Error("Object cannot be null");if(En(s)&&En(e)){s=s.getTime(),e=e.getTime();const o=e-s;return i=>new Date(s+i*o)}const r=Object.keys(e),n={};return r.forEach(o=>{n[o]=$r(s[o],e[o])}),o=>{const i={};return r.forEach(a=>{i[a]=n[a](o)}),i}}if(t==="number"){const r=e-s;return n=>s+n*r}throw new Error(`Cannot interpolate ${t} values`)}function $s(s,e={}){const t=ws(s);let r,n=s;function o(i,a){if(s==null)return t.set(s=i),Promise.resolve();n=i;let l=r,c=!1,{delay:u=0,duration:h=400,easing:g=Gs,interpolate:f=$r}=Er(Er({},e),a);if(h===0)return l&&(l.abort(),l=null),t.set(s=n),Promise.resolve();const _=Hs()+u;let b;return r=qs(E=>{if(E<_)return!0;c||(b=f(s,i),typeof h=="function"&&(h=h(s,i)),c=!0),l&&(l.abort(),l=null);const O=E-_;return O>h?(t.set(s=i),!1):(t.set(s=b(g(O/h))),!0)}),r.promise}return{set:o,update:(i,a)=>o(i(n,s),a),subscribe:t.subscribe}}function Ti(s,{delay:e=0,duration:t=400,easing:r=ki,x:n=0,y:o=0,opacity:i=0}={}){const a=getComputedStyle(s),l=+a.opacity,c=a.transform==="none"?"":a.transform,u=l*(1-i);return{delay:e,duration:t,easing:r,css:(h,g)=>`
			transform: ${c} translate(${(1-h)*n}px, ${(1-h)*o}px);
			opacity: ${l-u*g}`}}function Si(s){let e,t,r,n,o,i;return{c(){e=v("li"),t=v("span"),r=M(s[1]),this.h()},l(a){e=w(a,"LI",{class:!0,style:!0});var l=T(e);t=w(l,"SPAN",{class:!0});var c=T(t);r=L(c,s[1]),c.forEach(d),l.forEach(d),this.h()},h(){p(t,"class","svelte-13svdu6"),p(e,"class",n=hn(s[4])+" svelte-13svdu6"),p(e,"style",o=`--height: ${s[5]}px`),x(e,"wod",s[0]),x(e,"review",s[3])},m(a,l){R(a,e,l),m(e,t),m(t,r)},p(a,[l]){s=a,l&2&&Ee(r,s[1]),l&16&&n!==(n=hn(s[4])+" svelte-13svdu6")&&p(e,"class",n),l&32&&o!==(o=`--height: ${s[5]}px`)&&p(e,"style",o),l&17&&x(e,"wod",s[0]),l&24&&x(e,"review",s[3])},i(a){i||ps(()=>{i=Fs(e,Ti,{y:s[2],duration:s[6]*(s[0]?.5:1),easing:Ei}),i.start()})},o:te,d(a){a&&d(e)}}}function $i(s,e,t){let r,n,o;B(s,bs,f=>t(6,o=f));let{wod:i}=e,{text:a}=e,{points:l}=e,{liHeight:c}=e,{startOffset:u}=e,{review:h}=e;return $s(0,{duration:o}).set(1).then(()=>{}),s.$$set=f=>{"wod"in f&&t(0,i=f.wod),"text"in f&&t(1,a=f.text),"points"in f&&t(7,l=f.points),"liHeight"in f&&t(8,c=f.liHeight),"startOffset"in f&&t(2,u=f.startOffset),"review"in f&&t(3,h=f.review)},s.$$.update=()=>{s.$$.dirty&384&&t(5,r=l*c),s.$$.dirty&1&&t(4,n=i?"combo-wod":"combo-user")},[i,a,u,h,n,r,o,l,c]}class Oi extends Q{constructor(e){super(),Z(this,e,$i,Si,X,{wod:0,text:1,points:7,liHeight:8,startOffset:2,review:3})}}function Tn(s,e,t){const r=s.slice();return r[6]=e[t].valid,r[7]=e[t].text,r[8]=e[t].revealWod,r[9]=e[t].points,r}function Sn(s,e){let t,r,n;return r=new Oi({props:{wod:e[1],valid:e[6],text:e[7],revealWod:e[8],points:e[9],liHeight:e[2],startOffset:e[3],review:e[4]}}),{key:s,first:null,c(){t=oe(),G(r.$$.fragment),this.h()},l(o){t=oe(),F(r.$$.fragment,o),this.h()},h(){this.first=t},m(o,i){R(o,t,i),z(r,o,i),n=!0},p(o,i){e=o;const a={};i&2&&(a.wod=e[1]),i&1&&(a.valid=e[6]),i&1&&(a.text=e[7]),i&1&&(a.revealWod=e[8]),i&1&&(a.points=e[9]),i&4&&(a.liHeight=e[2]),i&8&&(a.startOffset=e[3]),i&16&&(a.review=e[4]),r.$set(a)},i(o){n||($(r.$$.fragment,o),n=!0)},o(o){P(r.$$.fragment,o),n=!1},d(o){o&&d(t),V(r,o)}}}function ji(s){let e,t=[],r=new Map,n,o=s[0];const i=a=>a[7];for(let a=0;a<o.length;a+=1){let l=Tn(s,o,a),c=i(l);r.set(c,t[a]=Sn(c,l))}return{c(){e=v("ul");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=w(a,"UL",{class:!0});var l=T(e);for(let c=0;c<t.length;c+=1)t[c].l(l);l.forEach(d),this.h()},h(){p(e,"class","svelte-189x0fx"),x(e,"wod",s[1]),x(e,"in-modal",s[5]),x(e,"review",s[4])},m(a,l){R(a,e,l);for(let c=0;c<t.length;c+=1)t[c].m(e,null);n=!0},p(a,[l]){l&31&&(o=a[0],ce(),t=zs(t,l,i,1,a,o,r,e,Vs,Sn,null,Tn),he()),l&2&&x(e,"wod",a[1]),l&32&&x(e,"in-modal",a[5]),l&16&&x(e,"review",a[4])},i(a){if(!n){for(let l=0;l<o.length;l+=1)$(t[l]);n=!0}},o(a){for(let l=0;l<t.length;l+=1)P(t[l]);n=!1},d(a){a&&d(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function Pi(s,e,t){let r;B(s,Te,c=>t(5,r=c));let{guesses:n}=e,{wod:o=!1}=e,{liHeight:i}=e,{startOffset:a}=e,{review:l}=e;return s.$$set=c=>{"guesses"in c&&t(0,n=c.guesses),"wod"in c&&t(1,o=c.wod),"liHeight"in c&&t(2,i=c.liHeight),"startOffset"in c&&t(3,a=c.startOffset),"review"in c&&t(4,l=c.review)},[n,o,i,a,l,r]}class Os extends Q{constructor(e){super(),Z(this,e,Pi,ji,X,{guesses:0,wod:1,liHeight:2,startOffset:3,review:4})}}function Ri(s){let e,t,r,n,o,i,a,l,c;return{c(){e=v("div"),t=v("div"),r=v("p"),n=M(s[1]),o=C(),i=v("span"),a=C(),l=v("span"),c=M(s[0]),this.h()},l(u){e=w(u,"DIV",{class:!0,style:!0});var h=T(e);t=w(h,"DIV",{class:!0});var g=T(t);r=w(g,"P",{class:!0});var f=T(r);n=L(f,s[1]),f.forEach(d),o=N(g),i=w(g,"SPAN",{class:!0}),T(i).forEach(d),a=N(g),l=w(g,"SPAN",{class:!0});var _=T(l);c=L(_,s[0]),_.forEach(d),g.forEach(d),h.forEach(d),this.h()},h(){p(r,"class","name svelte-14l1i3f"),x(r,"flip",s[3]),p(i,"class","circle combo-mark svelte-14l1i3f"),p(l,"class","points combo-mark svelte-14l1i3f"),p(t,"class","pill svelte-14l1i3f"),x(t,"triple",s[7]),x(t,"above",s[2]),x(t,"below",s[5]),x(t,"hasArrowBelow",s[9]),fe(t,"bottom",s[8],!1),p(e,"class","wrapper svelte-14l1i3f"),fe(e,"--delay",s[10]+"ms"),fe(e,"--gutter-width",js+"px"),x(e,"wod",s[6]),x(e,"in-modal",s[11]),x(e,"review",s[4])},m(u,h){R(u,e,h),m(e,t),m(t,r),m(r,n),m(t,o),m(t,i),m(t,a),m(t,l),m(l,c)},p(u,[h]){h&2&&Ee(n,u[1]),h&8&&x(r,"flip",u[3]),h&1&&Ee(c,u[0]),h&128&&x(t,"triple",u[7]),h&4&&x(t,"above",u[2]),h&32&&x(t,"below",u[5]),h&512&&x(t,"hasArrowBelow",u[9]),h&256&&fe(t,"bottom",u[8],!1),h&1024&&fe(e,"--delay",u[10]+"ms"),h&64&&x(e,"wod",u[6]),h&2048&&x(e,"in-modal",u[11]),h&16&&x(e,"review",u[4])},i:te,o:te,d(u){u&&d(e)}}}const js=36;function Ii(s,e,t){let r,n,o,i,a,l,c;B(s,bs,E=>t(10,l=E)),B(s,Te,E=>t(11,c=E));let{points:u}=e,{name:h}=e,{y:g=0}=e,{above:f}=e,{flipName:_}=e,{review:b}=e;return s.$$set=E=>{"points"in E&&t(0,u=E.points),"name"in E&&t(1,h=E.name),"y"in E&&t(12,g=E.y),"above"in E&&t(2,f=E.above),"flipName"in E&&t(3,_=E.flipName),"review"in E&&t(4,b=E.review)},s.$$.update=()=>{s.$$.dirty&2&&t(6,r=h!=="you"),s.$$.dirty&4160&&t(5,n=r?g<=js:g<=0),s.$$.dirty&97&&t(9,o=r&&n&&u>1),s.$$.dirty&4192&&t(8,i=`${r&&n?0:g}px`),s.$$.dirty&1&&t(7,a=u>99)},[u,h,f,_,b,n,r,a,i,o,l,c,g]}class Ps extends Q{constructor(e){super(),Z(this,e,Ii,Ri,X,{points:0,name:1,y:12,above:2,flipName:3,review:4})}}const $n={"20rem":"(min-width: 20rem)","30rem":"(min-width: 30rem)","40rem":"(min-width: 40rem)","50rem":"(min-width: 50rem)","60rem":"(min-width: 60rem)","70rem":"(min-width: 70rem)","80rem":"(min-width: 80rem)",reducedMotion:"(prefers-reduced-motion: reduce)"};function Ai(s){const e={classNames:""},t=[];for(let r in s)e[r]=s[r].matches,e[r]&&t.push(`mq-${r}`);return e.classNames=t.join(" "),e}const Ci=Qs({},s=>{const e={},t=()=>s(Ai(e));{for(let r in $n)e[r]=window.matchMedia($n[r]),e[r].addListener(t);t()}return()=>{for(let r in e)e[r].removeListener(t)}});function On(s){let e,t,r,n,o;return e=new Os({props:{guesses:s[5],wod:!0,liHeight:s[4],review:s[0]}}),n=new Ps({props:{name:s[14].name,points:s[7].wod,y:s[2],above:s[10],flipName:s[8],review:s[0]}}),{c(){t=v("div"),G(e.$$.fragment),r=C(),G(n.$$.fragment),this.h()},l(i){t=w(i,"DIV",{style:!0});var a=T(t);F(e.$$.fragment,a),r=N(i),F(n.$$.fragment,i),this.h()},h(){fe(t,"display","contents"),fe(t,"--offsetY",s[12])},m(i,a){R(i,t,a),z(e,t,null),R(i,r,a),z(n,i,a),o=!0},p(i,a){a&4096&&fe(t,"--offsetY",i[12]);const l={};a&32&&(l.guesses=i[5]),a&16&&(l.liHeight=i[4]),a&1&&(l.review=i[0]),e.$set(l);const c={};a&16384&&(c.name=i[14].name),a&128&&(c.points=i[7].wod),a&4&&(c.y=i[2]),a&1024&&(c.above=i[10]),a&256&&(c.flipName=i[8]),a&1&&(c.review=i[0]),n.$set(c)},i(i){o||($(e.$$.fragment,i),$(n.$$.fragment,i),o=!0)},o(i){P(e.$$.fragment,i),P(n.$$.fragment,i),o=!1},d(i){i&&d(t),V(e,i),i&&d(r),V(n,i)}}}function jn(s){let e;return{c(){e=v("hr"),this.h()},l(t){e=w(t,"HR",{class:!0}),this.h()},h(){p(e,"class","svelte-1iji08r")},m(t,r){R(t,e,r)},d(t){t&&d(e)}}}function Ni(s){let e,t,r,n,o,i,a,l,c,u;t=new Ps({props:{name:"you",points:s[7].user,y:s[3],flipName:s[9],review:s[0]}}),n=new Os({props:{guesses:s[6],liHeight:s[4],startOffset:s[11],review:s[0]}});let h=!s[13]&&On(s),g=s[0]&&jn();return{c(){e=v("div"),G(t.$$.fragment),r=C(),o=v("div"),G(n.$$.fragment),i=C(),h&&h.c(),l=C(),g&&g.c(),c=oe(),this.h()},l(f){e=w(f,"DIV",{class:!0});var _=T(e);F(t.$$.fragment,_),r=N(_),o=w(_,"DIV",{style:!0});var b=T(o);F(n.$$.fragment,b),i=N(_),h&&h.l(_),_.forEach(d),l=N(f),g&&g.l(f),c=oe(),this.h()},h(){fe(o,"display","contents"),fe(o,"--offsetY",s[12]),p(e,"class","play-guesses svelte-1iji08r"),ps(()=>s[25].call(e)),x(e,"review",s[0])},m(f,_){R(f,e,_),z(t,e,null),m(e,r),m(e,o),z(n,o,null),m(e,i),h&&h.m(e,null),a=Ws(e,s[25].bind(e)),R(f,l,_),g&&g.m(f,_),R(f,c,_),u=!0},p(f,[_]){const b={};_&128&&(b.points=f[7].user),_&8&&(b.y=f[3]),_&512&&(b.flipName=f[9]),_&1&&(b.review=f[0]),t.$set(b),_&4096&&fe(o,"--offsetY",f[12]);const E={};_&64&&(E.guesses=f[6]),_&16&&(E.liHeight=f[4]),_&2048&&(E.startOffset=f[11]),_&1&&(E.review=f[0]),n.$set(E),f[13]?h&&(ce(),P(h,1,1,()=>{h=null}),he()):h?(h.p(f,_),_&8192&&$(h,1)):(h=On(f),h.c(),$(h,1),h.m(e,null)),_&1&&x(e,"review",f[0]),f[0]?g||(g=jn(),g.c(),g.m(c.parentNode,c)):g&&(g.d(1),g=null)},i(f){u||($(t.$$.fragment,f),$(n.$$.fragment,f),$(h),u=!0)},o(f){P(t.$$.fragment,f),P(n.$$.fragment,f),P(h),u=!1},d(f){f&&d(e),V(t),V(n),h&&h.d(),a(),f&&d(l),g&&g.d(f),f&&d(c)}}}const Pn=2;function Di(s,e,t){let r,n,o,i,a,l,c,u,h,g,f,_,b,E,O,I,y,S,A,J,H,W,U;B(s,ys,j=>t(7,A=j)),B(s,Le,j=>t(23,J=j)),B(s,Ci,j=>t(24,H=j)),B(s,$t,j=>t(13,W=j)),B(s,Et,j=>t(14,U=j));let{review:ee=!1}=e;const q=j=>j.reason===void 0,K=ee?1:.75;let D=0;function k(){D=this.clientHeight,t(1,D)}return s.$$set=j=>{"review"in j&&t(0,ee=j.review)},s.$$.update=()=>{s.$$.dirty&16777216&&t(4,r=H["40rem"]?32:24),s.$$.dirty&8388608&&t(6,n=[].concat(...J.user).filter(q)),s.$$.dirty&8388608&&t(5,o=[].concat(...J.wod).filter(q)),s.$$.dirty&64&&t(22,i=n.length*Pn),s.$$.dirty&32&&t(21,a=o.length*Pn),s.$$.dirty&4194448&&t(16,l=A.user*r-i),s.$$.dirty&2097296&&t(20,c=A.wod*r-a),s.$$.dirty&1114112&&t(15,u=c-l),s.$$.dirty&2&&t(17,h=D*K),s.$$.dirty&196608&&t(19,g=l-h),s.$$.dirty&524288&&t(18,f=Math.max(0,g)),s.$$.dirty&262144&&t(12,_=`${f}px`),s.$$.dirty&655362&&t(11,b=(D-h+Math.min(0,g)*-1)*-1),s.$$.dirty&458752&&t(3,E=f>0?h:l),s.$$.dirty&32778&&t(2,O=Math.min(D,Math.max(0,u+E))),s.$$.dirty&6&&t(10,I=O===D),s.$$.dirty&10&&t(9,y=E>=D/2),s.$$.dirty&6&&t(8,S=O>=D/2)},[ee,D,O,E,r,o,n,A,S,y,I,b,_,W,U,u,l,h,f,g,c,a,i,J,H,k]}class Rs extends Q{constructor(e){super(),Z(this,e,Di,Ni,X,{review:0})}}function Ui(s){let e,t,r,n,o,i,a,l,c,u,h,g;return{c(){e=v("div"),t=v("form"),r=v("div"),n=v("div"),o=M(s[0]),i=C(),a=v("input"),l=C(),c=v("button"),u=M("\u2192"),this.h()},l(f){e=w(f,"DIV",{id:!0,class:!0});var _=T(e);t=w(_,"FORM",{class:!0});var b=T(t);r=w(b,"DIV",{class:!0});var E=T(r);n=w(E,"DIV",{class:!0,"aria-hidden":!0});var O=T(n);o=L(O,s[0]),O.forEach(d),i=N(E),a=w(E,"INPUT",{spellcheck:!0,maxlength:!0,placeholder:!0,class:!0}),l=N(E),c=w(E,"BUTTON",{type:!0,"aria-label":!0,class:!0});var I=T(c);u=L(I,"\u2192"),I.forEach(d),E.forEach(d),b.forEach(d),_.forEach(d),this.h()},h(){p(n,"class","bg svelte-heuf8m"),p(n,"aria-hidden","true"),p(a,"spellcheck","false"),p(a,"maxlength","15"),p(a,"placeholder","enter word"),a.disabled=s[2],p(a,"class","svelte-heuf8m"),p(c,"type","submit"),p(c,"aria-label","submit"),p(c,"class","svelte-heuf8m"),p(r,"class","box svelte-heuf8m"),p(t,"class","svelte-heuf8m"),p(e,"id","play-input"),p(e,"class","svelte-heuf8m"),x(e,"in-modal",s[3])},m(f,_){R(f,e,_),m(e,t),m(t,r),m(r,n),m(n,o),m(r,i),m(r,a),yt(a,s[0]),s[8](a),m(r,l),m(r,c),m(c,u),h||(g=[ue(a,"input",s[7]),ue(t,"submit",s[4])],h=!0)},p(f,[_]){_&1&&Ee(o,f[0]),_&4&&(a.disabled=f[2]),_&1&&a.value!==f[0]&&yt(a,f[0]),_&8&&x(e,"in-modal",f[3])},i:te,o:te,d(f){f&&d(e),s[8](null),h=!1,Xe(g)}}}function Mi(s,e,t){let r,n,o;B(s,At,b=>t(6,n=b)),B(s,Te,b=>t(3,o=b));const i=St();let{value:a=""}=e;const l=()=>t(0,a="");let c;const u=()=>{a&&i("submit",a),t(0,a="")},h=b=>{b.preventDefault(),t(0,a=a.trim().toLowerCase()),u()},g=async()=>{await Js(),c.focus()};function f(){a=this.value,t(0,a)}function _(b){xt[b?"unshift":"push"](()=>{c=b,t(1,c)})}return s.$$set=b=>{"value"in b&&t(0,a=b.value)},s.$$.update=()=>{s.$$.dirty&64&&t(2,r=!n),s.$$.dirty&64&&n&&g()},[a,c,r,o,h,l,n,f,_]}class Li extends Q{constructor(e){super(),Z(this,e,Mi,Ui,X,{value:0,reset:5})}get reset(){return this.$$.ctx[5]}}const Bi=[{row:0,value:"q"},{row:0,value:"w"},{row:0,value:"e"},{row:0,value:"r"},{row:0,value:"t"},{row:0,value:"y"},{row:0,value:"u"},{row:0,value:"i"},{row:0,value:"o"},{row:0,value:"p"},{row:1,value:"a"},{row:1,value:"s"},{row:1,value:"d"},{row:1,value:"f"},{row:1,value:"g"},{row:1,value:"h"},{row:1,value:"j"},{row:1,value:"k"},{row:1,value:"l"},{row:2,value:"Shift"},{row:2,value:"z"},{row:2,value:"x"},{row:2,value:"c"},{row:2,value:"v"},{row:2,value:"b"},{row:2,value:"n"},{row:2,value:"m"},{row:2,value:"Backspace"},{row:3,value:"Page1"},{row:3,value:","},{row:3,value:"Space"},{row:3,value:"."},{row:3,value:"Enter"},{row:0,value:"1",page:1},{row:0,value:"2",page:1},{row:0,value:"3",page:1},{row:0,value:"4",page:1},{row:0,value:"5",page:1},{row:0,value:"6",page:1},{row:0,value:"7",page:1},{row:0,value:"8",page:1},{row:0,value:"9",page:1},{row:0,value:"0",page:1},{row:1,value:"!",page:1},{row:1,value:"@",page:1},{row:1,value:"#",page:1},{row:1,value:"$",page:1},{row:1,value:"%",page:1},{row:1,value:"^",page:1},{row:1,value:"&",page:1},{row:1,value:"*",page:1},{row:1,value:"(",page:1},{row:1,value:")",page:1},{row:2,value:"-",page:1},{row:2,value:"_",page:1},{row:2,value:"=",page:1},{row:2,value:"+",page:1},{row:2,value:";",page:1},{row:2,value:":",page:1},{row:2,value:"'",page:1},{row:2,value:'"',page:1},{row:2,value:"<",page:1},{row:2,value:">",page:1},{row:3,value:"Page0",page:1},{row:3,value:"/",page:1},{row:3,value:"?",page:1},{row:3,value:"[",page:1},{row:3,value:"]",page:1},{row:3,value:"{",page:1},{row:3,value:"}",page:1},{row:3,value:"|",page:1},{row:3,value:"\\",page:1},{row:3,value:"~",page:1}],Hi=[{row:0,value:"q"},{row:0,value:"w"},{row:0,value:"e"},{row:0,value:"r"},{row:0,value:"t"},{row:0,value:"y"},{row:0,value:"u"},{row:0,value:"i"},{row:0,value:"o"},{row:0,value:"p"},{row:1,value:"a"},{row:1,value:"s"},{row:1,value:"d"},{row:1,value:"f"},{row:1,value:"g"},{row:1,value:"h"},{row:1,value:"j"},{row:1,value:"k"},{row:1,value:"l"},{row:2,value:"z"},{row:2,value:"x"},{row:2,value:"c"},{row:2,value:"v"},{row:2,value:"b"},{row:2,value:"n"},{row:2,value:"m"},{row:2,value:"Backspace"}],qi=[{row:0,value:"q"},{row:0,value:"w"},{row:0,value:"e"},{row:0,value:"r"},{row:0,value:"t"},{row:0,value:"y"},{row:0,value:"u"},{row:0,value:"i"},{row:0,value:"o"},{row:0,value:"p"},{row:1,value:"a"},{row:1,value:"s"},{row:1,value:"d"},{row:1,value:"f"},{row:1,value:"g"},{row:1,value:"h"},{row:1,value:"j"},{row:1,value:"k"},{row:1,value:"l"},{row:2,value:"Enter"},{row:2,value:"z"},{row:2,value:"x"},{row:2,value:"c"},{row:2,value:"v"},{row:2,value:"b"},{row:2,value:"n"},{row:2,value:"m"},{row:2,value:"Backspace"}],Gi=[{row:0,value:"a"},{row:0,value:"z"},{row:0,value:"e"},{row:0,value:"r"},{row:0,value:"t"},{row:0,value:"y"},{row:0,value:"u"},{row:0,value:"i"},{row:0,value:"o"},{row:0,value:"p"},{row:1,value:"q"},{row:1,value:"s"},{row:1,value:"d"},{row:1,value:"f"},{row:1,value:"g"},{row:1,value:"h"},{row:1,value:"j"},{row:1,value:"k"},{row:1,value:"l"},{row:1,value:"m"},{row:2,value:"Shift"},{row:2,value:"w"},{row:2,value:"x"},{row:2,value:"c"},{row:2,value:"v"},{row:2,value:"b"},{row:2,value:"n"},{row:2,value:"Backspace"},{row:3,value:"Page1"},{row:3,value:","},{row:3,value:"Space"},{row:3,value:"."},{row:3,value:"Enter"},{row:0,value:"1",page:1},{row:0,value:"2",page:1},{row:0,value:"3",page:1},{row:0,value:"4",page:1},{row:0,value:"5",page:1},{row:0,value:"6",page:1},{row:0,value:"7",page:1},{row:0,value:"8",page:1},{row:0,value:"9",page:1},{row:0,value:"0",page:1},{row:1,value:"!",page:1},{row:1,value:"@",page:1},{row:1,value:"#",page:1},{row:1,value:"$",page:1},{row:1,value:"%",page:1},{row:1,value:"^",page:1},{row:1,value:"&",page:1},{row:1,value:"*",page:1},{row:1,value:"(",page:1},{row:1,value:")",page:1},{row:2,value:"-",page:1},{row:2,value:"_",page:1},{row:2,value:"=",page:1},{row:2,value:"+",page:1},{row:2,value:";",page:1},{row:2,value:":",page:1},{row:2,value:"'",page:1},{row:2,value:'"',page:1},{row:2,value:"<",page:1},{row:2,value:">",page:1},{row:3,value:"Page0",page:1},{row:3,value:"/",page:1},{row:3,value:"?",page:1},{row:3,value:"[",page:1},{row:3,value:"]",page:1},{row:3,value:"{",page:1},{row:3,value:"}",page:1},{row:3,value:"|",page:1},{row:3,value:"\\",page:1},{row:3,value:"~",page:1}],Fi=[{row:0,value:"a"},{row:0,value:"z"},{row:0,value:"e"},{row:0,value:"r"},{row:0,value:"t"},{row:0,value:"y"},{row:0,value:"u"},{row:0,value:"i"},{row:0,value:"o"},{row:0,value:"p"},{row:1,value:"q"},{row:1,value:"s"},{row:1,value:"d"},{row:1,value:"f"},{row:1,value:"g"},{row:1,value:"h"},{row:1,value:"j"},{row:1,value:"k"},{row:1,value:"l"},{row:1,value:"m"},{row:2,value:"w"},{row:2,value:"x"},{row:2,value:"c"},{row:2,value:"v"},{row:2,value:"b"},{row:2,value:"n"},{row:2,value:"Backspace"}],zi=[{row:0,value:"a"},{row:0,value:"z"},{row:0,value:"e"},{row:0,value:"r"},{row:0,value:"t"},{row:0,value:"y"},{row:0,value:"u"},{row:0,value:"i"},{row:0,value:"o"},{row:0,value:"p"},{row:1,value:"q"},{row:1,value:"s"},{row:1,value:"d"},{row:1,value:"f"},{row:1,value:"g"},{row:1,value:"h"},{row:1,value:"j"},{row:1,value:"k"},{row:1,value:"l"},{row:1,value:"m"},{row:2,value:"Enter"},{row:2,value:"w"},{row:2,value:"x"},{row:2,value:"c"},{row:2,value:"v"},{row:2,value:"b"},{row:2,value:"n"},{row:2,value:"Backspace"}],Vi='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-delete"><path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line></svg>',Wi='<svg width="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-corner-down-left"><polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path></svg>';function Rn(s,e,t){const r=s.slice();return r[27]=e[t],r[29]=t,r}function In(s,e,t){const r=s.slice();return r[30]=e[t],r}function An(s,e,t){const r=s.slice();return r[33]=e[t].value,r[34]=e[t].display,r}function Ji(s){let e=s[34]+"",t;return{c(){t=M(e)},l(r){t=L(r,e)},m(r,n){R(r,t,n)},p(r,n){n[0]&8&&e!==(e=r[34]+"")&&Ee(t,e)},d(r){r&&d(t)}}}function xi(s){let e,t=s[34]+"",r;return{c(){e=new xs(!1),r=oe(),this.h()},l(n){e=Ks(n,!1),r=oe(),this.h()},h(){e.a=r},m(n,o){e.m(t,n,o),R(n,r,o)},p(n,o){o[0]&8&&t!==(t=n[34]+"")&&e.p(t)},d(n){n&&d(r),n&&e.d()}}}function Cn(s){let e,t,r,n,o;function i(f,_){return _[0]&8&&(t=null),t==null&&(t=!!f[34].includes("<svg")),t?xi:Ji}let a=i(s,[-1,-1]),l=a(s);function c(...f){return s[19](s[33],...f)}function u(...f){return s[20](s[33],...f)}function h(){return s[21](s[33])}function g(){return s[22](s[33])}return{c(){e=v("button"),l.c(),this.h()},l(f){e=w(f,"BUTTON",{class:!0});var _=T(e);l.l(_),_.forEach(d),this.h()},h(){p(e,"class",r="key key--"+s[33]+" "+(s[0][s[33]]||"")+" svelte-jsnwng"),x(e,"single",s[33].length===1),x(e,"active",s[33]===s[2])},m(f,_){R(f,e,_),l.m(e,null),n||(o=[ue(e,"touchstart",c),ue(e,"mousedown",u),ue(e,"touchend",h,{passive:!0}),ue(e,"mouseup",g)],n=!0)},p(f,_){s=f,a===(a=i(s,_))&&l?l.p(s,_):(l.d(1),l=a(s),l&&(l.c(),l.m(e,null))),_[0]&9&&r!==(r="key key--"+s[33]+" "+(s[0][s[33]]||"")+" svelte-jsnwng")&&p(e,"class",r),_[0]&9&&x(e,"single",s[33].length===1),_[0]&13&&x(e,"active",s[33]===s[2])},d(f){f&&d(e),l.d(),n=!1,Xe(o)}}}function Nn(s){let e,t=s[30],r=[];for(let n=0;n<t.length;n+=1)r[n]=Cn(An(s,t,n));return{c(){e=v("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=w(n,"DIV",{class:!0});var o=T(e);for(let i=0;i<r.length;i+=1)r[i].l(o);o.forEach(d),this.h()},h(){p(e,"class","row row--"+s[29]+" svelte-jsnwng")},m(n,o){R(n,e,o);for(let i=0;i<r.length;i+=1)r[i].m(e,null)},p(n,o){if(o[0]&61){t=n[30];let i;for(i=0;i<t.length;i+=1){const a=An(n,t,i);r[i]?r[i].p(a,o):(r[i]=Cn(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(n){n&&d(e),Oe(r,n)}}}function Dn(s){let e,t,r=s[27],n=[];for(let o=0;o<r.length;o+=1)n[o]=Nn(In(s,r,o));return{c(){e=v("div");for(let o=0;o<n.length;o+=1)n[o].c();t=C(),this.h()},l(o){e=w(o,"DIV",{class:!0});var i=T(e);for(let a=0;a<n.length;a+=1)n[a].l(i);t=N(i),i.forEach(d),this.h()},h(){p(e,"class","page svelte-jsnwng"),x(e,"visible",s[29]===s[1])},m(o,i){R(o,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null);m(e,t)},p(o,i){if(i[0]&61){r=o[27];let a;for(a=0;a<r.length;a+=1){const l=In(o,r,a);n[a]?n[a].p(l,i):(n[a]=Nn(l),n[a].c(),n[a].m(e,t))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}i[0]&2&&x(e,"visible",o[29]===o[1])},d(o){o&&d(e),Oe(n,o)}}}function Ki(s){let e,t=s[3],r=[];for(let n=0;n<t.length;n+=1)r[n]=Dn(Rn(s,t,n));return{c(){e=v("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=w(n,"DIV",{class:!0});var o=T(e);for(let i=0;i<r.length;i+=1)r[i].l(o);o.forEach(d),this.h()},h(){p(e,"class","svelte-keyboard")},m(n,o){R(n,e,o);for(let i=0;i<r.length;i+=1)r[i].m(e,null)},p(n,o){if(o[0]&63){t=n[3];let i;for(i=0;i<t.length;i+=1){const a=Rn(n,t,i);r[i]?r[i].p(a,o):(r[i]=Dn(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},i:te,o:te,d(n){n&&d(e),Oe(r,n)}}}const Yi="abcdefghijklmnopqrstuvwxyz";function Xi(s,e,t){let r,n,o,i,a,l,c,u,h,{custom:g}=e,{localizationLayout:f="qwerty"}=e,{layout:_="standard"}=e,{noSwap:b=[]}=e,{keyClass:E={}}=e,O=0,I=!1,y;const S={qwerty:{standard:Bi,crossword:Hi,wordle:qi},azerty:{standard:Gi,crossword:Fi,wordle:zi}},A=St(),J={Page0:"abc",Page1:"?123",Space:" ",Shift:"abc",Enter:Wi,Backspace:Vi},H=k=>[...new Set(k)],W=(k,j)=>{if(k.preventDefault(),t(2,y=j),j.includes("Page"))t(1,O=+j.substr(-1));else if(j==="Shift")t(10,I=!I);else{let Y=j;I&&Yi.includes(j)&&(Y=j.toUpperCase()),A("keydown",Y)}return k.stopPropagation(),!1},U=k=>{setTimeout(()=>{k===y&&t(2,y=void 0)},50)},ee=(k,j)=>W(j,k),q=(k,j)=>W(j,k),K=k=>U(k),D=k=>U(k);return s.$$set=k=>{"custom"in k&&t(6,g=k.custom),"localizationLayout"in k&&t(7,f=k.localizationLayout),"layout"in k&&t(8,_=k.layout),"noSwap"in k&&t(9,b=k.noSwap),"keyClass"in k&&t(0,E=k.keyClass)},s.$$.update=()=>{s.$$.dirty[0]&448&&t(18,r=g||S[f][_]||standard),s.$$.dirty[0]&263680&&t(17,n=r.map(k=>{let j=k.display;const Y=J[k.value];return Y&&!b.includes(k.value)&&!k.noSwap&&(j=Y),j||(j=I?k.value.toUpperCase():k.value),k.value==="Shift"&&(j=I?Y:Y.toUpperCase()),{...k,display:j}})),s.$$.dirty[0]&131072&&t(15,o=n.filter(k=>!k.page)),s.$$.dirty[0]&131072&&t(13,i=n.filter(k=>k.page)),s.$$.dirty[0]&32768&&t(14,a=H(o.map(k=>k.row))),s.$$.dirty[0]&16384&&a.sort((k,j)=>k-j),s.$$.dirty[0]&8192&&t(16,l=H(i.map(k=>k.row))),s.$$.dirty[0]&65536&&l.sort((k,j)=>k-j),s.$$.dirty[0]&49152&&t(12,c=a.map(k=>o.filter(j=>j.row===k))),s.$$.dirty[0]&24576&&t(11,u=a.map(k=>i.filter(j=>j.row===k))),s.$$.dirty[0]&6144&&t(3,h=[c,u])},[E,O,y,h,W,U,g,f,_,b,I,u,c,i,a,o,l,n,r,ee,q,K,D]}class Qi extends Q{constructor(e){super(),Z(this,e,Xi,Ki,X,{custom:6,localizationLayout:7,layout:8,noSwap:9,keyClass:0},null,[-1,-1])}}function Zi(s){let e,t,r,n;return t=new Qi({props:{layout:"wordle"}}),t.$on("keydown",s[1]),{c(){e=v("div"),r=v("div"),G(t.$$.fragment),this.h()},l(o){e=w(o,"DIV",{id:!0,class:!0});var i=T(e);r=w(i,"DIV",{style:!0});var a=T(r);F(t.$$.fragment,a),i.forEach(d),this.h()},h(){fe(r,"display","contents"),fe(r,"--height","42px"),fe(r,"--margin","4px"),fe(r,"--min-width","28px"),fe(r,"--background","var(--color-bg-2)"),fe(r,"--active-background","var(--color-bg-3)"),fe(r,"--color","var(--color-fg)"),p(e,"id","play-keyboard"),p(e,"class","svelte-4tpwyx"),x(e,"in-modal",s[0])},m(o,i){R(o,e,i),m(e,r),z(t,r,null),n=!0},p(o,[i]){i&1&&x(e,"in-modal",o[0])},i(o){n||($(t.$$.fragment,o),n=!0)},o(o){P(t.$$.fragment,o),n=!1},d(o){o&&d(e),V(t)}}}function eo(s,e,t){let r;B(s,Te,l=>t(0,r=l));const n=St();let{value:o=""}=e;const i=()=>{o&&n("submit",o),t(2,o="")},a=l=>{l.detail==="Enter"?i():l.detail==="Backspace"?t(2,o=o.substring(0,o.length-1)):t(2,o=`${o}${l.detail}`)};return s.$$set=l=>{"value"in l&&t(2,o=l.value)},[r,a,o]}class to extends Q{constructor(e){super(),Z(this,e,eo,Zi,X,{value:2})}}function Un(s){let e,t,r;return{c(){e=v("p"),t=v("strong"),r=M(s[0]),this.h()},l(n){e=w(n,"P",{class:!0});var o=T(e);t=w(o,"STRONG",{});var i=T(t);r=L(i,s[0]),i.forEach(d),o.forEach(d),this.h()},h(){p(e,"class","svelte-11z2ctk")},m(n,o){R(n,e,o),m(e,t),m(t,r)},p(n,o){o&1&&Ee(r,n[0])},d(n){n&&d(e)}}}function ro(s){let e,t,r,n,o=!s[2]&&Un(s);return{c(){e=v("div"),t=v("div"),r=v("span"),n=C(),o&&o.c(),this.h()},l(i){e=w(i,"DIV",{id:!0,class:!0});var a=T(e);t=w(a,"DIV",{class:!0});var l=T(t);r=w(l,"SPAN",{class:!0}),T(r).forEach(d),l.forEach(d),n=N(a),o&&o.l(a),a.forEach(d),this.h()},h(){p(r,"class","progress combo-mark svelte-11z2ctk"),fe(r,"width",s[1],!1),p(t,"class","margin svelte-11z2ctk"),p(e,"id","play-clock"),p(e,"class","svelte-11z2ctk"),x(e,"in-modal",s[2])},m(i,a){R(i,e,a),m(e,t),m(t,r),m(e,n),o&&o.m(e,null)},p(i,[a]){a&2&&fe(r,"width",i[1],!1),i[2]?o&&(o.d(1),o=null):o?o.p(i,a):(o=Un(i),o.c(),o.m(e,null)),a&4&&x(e,"in-modal",i[2])},i:te,o:te,d(i){i&&d(e),o&&o.d()}}}const Mn=1e3;function no(s,e,t){let r,n,o,i,a,l;B(s,Te,h=>t(2,i=h)),B(s,At,h=>t(4,a=h)),B(s,Tt,h=>t(5,l=h));const c=60*Mn,u=h=>{h?(Rt.reset(),Rt.start()):Rt.stop()};return s.$$.update=()=>{s.$$.dirty&32&&t(0,o=Math.ceil((c-l)/Mn)),s.$$.dirty&1&&o<=0&&(ye(At,a=!1,a),ye(Te,i=!0,i)),s.$$.dirty&16&&u(a),s.$$.dirty&32&&t(3,r=c-l),s.$$.dirty&8&&t(1,n=`${Math.max(0,r/c)*100}%`)},[o,n,i,r,a,l]}class so extends Q{constructor(e){super(),Z(this,e,no,ro,X,{})}}function Ln(s,e,t){const r=s.slice();return r[3]=e[t],r[5]=t,r}function Bn(s){let e,t=s[3]+"";return{c(){e=v("li"),this.h()},l(r){e=w(r,"LI",{class:!0});var n=T(e);n.forEach(d),this.h()},h(){p(e,"class","svelte-mtlgub")},m(r,n){R(r,e,n),e.innerHTML=t},p(r,n){n&1&&t!==(t=r[3]+"")&&(e.innerHTML=t)},d(r){r&&d(e)}}}function io(s){let e,t,r=s[0],n=[];for(let o=0;o<r.length;o+=1)n[o]=Bn(Ln(s,r,o));return{c(){e=v("div"),t=v("ul");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=w(o,"DIV",{id:!0,class:!0});var i=T(e);t=w(i,"UL",{class:!0});var a=T(t);for(let l=0;l<n.length;l+=1)n[l].l(a);a.forEach(d),i.forEach(d),this.h()},h(){p(t,"class","svelte-mtlgub"),p(e,"id","play-clue"),p(e,"class","svelte-mtlgub"),x(e,"in-modal",s[1])},m(o,i){R(o,e,i),m(e,t);for(let a=0;a<n.length;a+=1)n[a].m(t,null)},p(o,[i]){if(i&1){r=o[0];let a;for(a=0;a<r.length;a+=1){const l=Ln(o,r,a);n[a]?n[a].p(l,i):(n[a]=Bn(l),n[a].c(),n[a].m(t,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}i&2&&x(e,"in-modal",o[1])},i:te,o:te,d(o){o&&d(e),Oe(n,o)}}}function oo(s,e,t){let r,n;B(s,Te,i=>t(1,n=i));let{clue:o}=e;return s.$$set=i=>{"clue"in i&&t(2,o=i.clue)},s.$$.update=()=>{s.$$.dirty&4&&t(0,r=o.split("|"))},[r,n,o]}class ao extends Q{constructor(e){super(),Z(this,e,oo,io,X,{clue:2})}}function Hn(s){let e,t,r=s[0].text+"",n,o,i=s[2][s[0].reason]+"",a;return{c(){e=v("p"),t=v("strong"),n=M(r),o=C(),a=M(i),this.h()},l(l){e=w(l,"P",{class:!0});var c=T(e);t=w(c,"STRONG",{});var u=T(t);n=L(u,r),u.forEach(d),o=N(c),a=L(c,i),c.forEach(d),this.h()},h(){p(e,"class","svelte-185b04q")},m(l,c){R(l,e,c),m(e,t),m(t,n),m(e,o),m(e,a)},p(l,c){c&1&&r!==(r=l[0].text+"")&&Ee(n,r),c&1&&i!==(i=l[2][l[0].reason]+"")&&Ee(a,i)},d(l){l&&d(e)}}}function lo(s){let e,t=s[1]&&Hn(s);return{c(){e=v("div"),t&&t.c(),this.h()},l(r){e=w(r,"DIV",{id:!0,class:!0});var n=T(e);t&&t.l(n),n.forEach(d),this.h()},h(){p(e,"id","play-invalid"),p(e,"class","svelte-185b04q")},m(r,n){R(r,e,n),t&&t.m(e,null)},p(r,[n]){r[1]?t?t.p(r,n):(t=Hn(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:te,o:te,d(r){r&&d(e),t&&t.d()}}}const uo=2500;function co(s,e,t){let r,n,o;B(s,Ye,h=>t(4,n=h)),B(s,Le,h=>t(5,o=h));let i,a=!1,l=0;const c=["(or a variation) was played by opponent","is too short","contains non-letters","is not in the word list","was already entered"],u=()=>{t(3,l=o.user[n].length),clearTimeout(i),r.valid?t(1,a=!1):(t(1,a=!0),i=setTimeout(()=>t(1,a=!1),uo))};return s.$$.update=()=>{s.$$.dirty&48&&t(0,r=o.user[n][o.user[n].length-1]),s.$$.dirty&48&&(o.user[n].length||t(3,l=0)),s.$$.dirty&57&&r&&o.user[n].length!==l&&u()},[r,a,c,l,n,o]}class ho extends Q{constructor(e){super(),Z(this,e,co,lo,X,{})}}function fo(s){let e,t;return{c(){e=v("p"),t=M(s[0]),this.h()},l(r){e=w(r,"P",{class:!0});var n=T(e);t=L(n,s[0]),n.forEach(d),this.h()},h(){p(e,"class","countdown svelte-4ytcdo")},m(r,n){R(r,e,n),m(e,t)},p(r,[n]){n&1&&Ee(t,r[0])},i:te,o:te,d(r){r&&d(e)}}}function mo(s,e,t){let r,n,{start:o=3}=e,{text:i=""}=e;const a=St(),l=i?-1:0,c=o*1e3,u=$s(o,{duration:c});return B(s,u,h=>t(4,n=h)),Nt(()=>{u.set(l).then(()=>a("end"))}),s.$$set=h=>{"start"in h&&t(2,o=h.start),"text"in h&&t(3,i=h.text)},s.$$.update=()=>{s.$$.dirty&24&&t(0,r=n<0?i:Math.floor(n)+1)},[r,u,o,i,n]}class po extends Q{constructor(e){super(),Z(this,e,mo,fo,X,{start:2,text:3})}}function qn(s){let e,t;return e=new po({props:{text:"begin!"}}),e.$on("end",s[5]),{c(){G(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){z(e,r,n),t=!0},p:te,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function go(s){let e,t,r,n,o,i,a,l,c,u,h,g,f,_,b;t=new ao({props:{clue:s[3]}});let E={value:s[1]};n=new Li({props:E}),s[10](n),n.$on("submit",s[4]);let O=s[0]&&qn(s);a=new ho({}),c=new Rs({}),h=new so({});function I(S){s[11](S)}let y={};return s[1]!==void 0&&(y.value=s[1]),f=new to({props:y}),xt.push(()=>gs(f,"value",I)),f.$on("submit",s[4]),{c(){e=v("div"),G(t.$$.fragment),r=C(),G(n.$$.fragment),o=C(),O&&O.c(),i=C(),G(a.$$.fragment),l=C(),G(c.$$.fragment),u=C(),G(h.$$.fragment),g=C(),G(f.$$.fragment),this.h()},l(S){e=w(S,"DIV",{class:!0});var A=T(e);F(t.$$.fragment,A),r=N(A),F(n.$$.fragment,A),o=N(A),O&&O.l(A),i=N(A),F(a.$$.fragment,A),l=N(A),F(c.$$.fragment,A),u=N(A),F(h.$$.fragment,A),g=N(A),F(f.$$.fragment,A),A.forEach(d),this.h()},h(){p(e,"class","svelte-foxip5")},m(S,A){R(S,e,A),z(t,e,null),m(e,r),z(n,e,null),m(e,o),O&&O.m(e,null),m(e,i),z(a,e,null),m(e,l),z(c,e,null),m(e,u),z(h,e,null),m(e,g),z(f,e,null),b=!0},p(S,[A]){const J={};A&8&&(J.clue=S[3]),t.$set(J);const H={};A&2&&(H.value=S[1]),n.$set(H),S[0]?O?(O.p(S,A),A&1&&$(O,1)):(O=qn(S),O.c(),$(O,1),O.m(e,i)):O&&(ce(),P(O,1,1,()=>{O=null}),he());const W={};!_&&A&2&&(_=!0,W.value=S[1],_s(()=>_=!1)),f.$set(W)},i(S){b||($(t.$$.fragment,S),$(n.$$.fragment,S),$(O),$(a.$$.fragment,S),$(c.$$.fragment,S),$(h.$$.fragment,S),$(f.$$.fragment,S),b=!0)},o(S){P(t.$$.fragment,S),P(n.$$.fragment,S),P(O),P(a.$$.fragment,S),P(c.$$.fragment,S),P(h.$$.fragment,S),P(f.$$.fragment,S),b=!1},d(S){S&&d(e),V(t),s[10](null),V(n),O&&O.d(),V(a),V(c),V(h),V(f)}}}function _o(s,e,t){let r,n,o,i,a,l,c,u,h;B(s,At,k=>t(13,i=k)),B(s,Ye,k=>t(9,a=k)),B(s,Tr,k=>t(14,l=k)),B(s,Le,k=>t(15,c=k)),B(s,Tt,k=>t(16,u=k)),B(s,Ar,k=>t(17,h=k));let{clues:g}=e,{answers:f}=e,_=!1,b="",E;const O=k=>{const j=n.find(Y=>Y.word===k);return j?j.lemmas:""},I=k=>!o.includes(k),y=({text:k,lemmas:j})=>Vt({lemmas:j,corpus:h}),S=({text:k,lemmas:j})=>{const Y=c.user[a].map(re=>re.lemmas);return Vt({lemmas:j,corpus:Y})},A=k=>new RegExp(/([^a-z])/,"g").test(k),J=({text:k,lemmas:j})=>{let Y=!0,re;return k.length<4?(Y=!1,re=1):A(k)?(Y=!1,re=2):I(k)?(Y=!1,re=3):S({text:k,lemmas:j})?(Y=!1,re=4):y({text:k,lemmas:j})&&(Y=!1,re=0),{valid:Y,reason:re}},H=({text:k,timestamp:j})=>{const{points:Y}=n.find(re=>re.word===k);return+Y},W=k=>{c.wod[a].forEach(j=>{const Y=j.lemmas.split("|");Vt({lemmas:k,corpus:Y})&&(j.revealWod=!0)})},U=async({detail:k})=>{const j=k,Y=O(j),{valid:re,reason:me}=J({text:j,lemmas:Y}),de=u,ne=re?H({text:j,timestamp:de}):void 0,ge={text:j,lemmas:Y,points:ne,timestamp:de,round:a,valid:re,reason:me};ye(Le,c.user[a]=[...c.user[a],ge],c),W(Y)},ee=()=>{t(0,_=!0),E&&E.reset()},q=()=>{ye(At,i=!0,i),t(0,_=!1)};function K(k){xt[k?"unshift":"push"](()=>{E=k,t(2,E)})}function D(k){b=k,t(1,b)}return s.$$set=k=>{"clues"in k&&t(6,g=k.clues),"answers"in k&&t(7,f=k.answers)},s.$$.update=()=>{s.$$.dirty&576&&t(3,r=g[a]),s.$$.dirty&640&&t(8,n=f[a]),s.$$.dirty&256&&ye(Tr,l=n,l),s.$$.dirty&256&&(o=n.map(k=>k.word)),s.$$.dirty&512&&ee()},[_,b,E,r,U,q,g,f,n,a,K,D]}class vo extends Q{constructor(e){super(),Z(this,e,_o,go,X,{clues:6,answers:7})}}function Gn(s,e,t){const r=s.slice();return r[7]=e[t],r}function br(s){let e,t=s[7]+"",r,n=[{class:r="chunk "+s[1]+" svelte-1rapxyz"}],o={};for(let i=0;i<n.length;i+=1)o=Er(o,n[i]);return{c(){e=v(s[0]),this.h()},l(i){e=w(i,(s[0]||"null").toUpperCase(),{class:!0});var a=T(e);a.forEach(d),this.h()},h(){fn(e,o)},m(i,a){R(i,e,a),e.innerHTML=t},p(i,a){a&4&&t!==(t=i[7]+"")&&(e.innerHTML=t),fn(e,o=Ys(n,[a&2&&r!==(r="chunk "+i[1]+" svelte-1rapxyz")&&{class:r}]))},d(i){i&&d(e)}}}function Fn(s){let e=s[0],t,r=s[0]&&br(s);return{c(){r&&r.c(),t=oe()},l(n){r&&r.l(n),t=oe()},m(n,o){r&&r.m(n,o),R(n,t,o)},p(n,o){n[0]?e?X(e,n[0])?(r.d(1),r=br(n),r.c(),r.m(t.parentNode,t)):r.p(n,o):(r=br(n),r.c(),r.m(t.parentNode,t)):e&&(r.d(1),r=null),e=n[0]},d(n){n&&d(t),r&&r.d(n)}}}function wo(s){let e,t=s[2],r=[];for(let n=0;n<t.length;n+=1)r[n]=Fn(Gn(s,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=oe()},l(n){for(let o=0;o<r.length;o+=1)r[o].l(n);e=oe()},m(n,o){for(let i=0;i<r.length;i+=1)r[i].m(n,o);R(n,e,o)},p(n,[o]){if(o&7){t=n[2];let i;for(i=0;i<t.length;i+=1){const a=Gn(n,t,i);r[i]?r[i].p(a,o):(r[i]=Fn(a),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},i:te,o:te,d(n){Oe(r,n),n&&d(e)}}}function bo(s,e,t){let r,n,{text:o=""}=e,{max:i=o.length}=e,{space:a=!1}=e,{tag:l="span"}=e,{className:c=""}=e;return s.$$set=u=>{"text"in u&&t(3,o=u.text),"max"in u&&t(4,i=u.max),"space"in u&&t(5,a=u.space),"tag"in u&&t(0,l=u.tag),"className"in u&&t(1,c=u.className)},s.$$.update=()=>{s.$$.dirty&16&&t(6,r=new RegExp(`[\\s\\S]{1,${i}}(?!\\S)`,"g")),s.$$.dirty&104&&t(2,n=o.replace(r,`$&
`).split(`
`).map(u=>u.trim()).filter(u=>u).map((u,h)=>`${h>0&&a?"&nbsp;":""}${u}`))},[l,c,n,o,i,a,r]}class le extends Q{constructor(e){super(),Z(this,e,bo,wo,X,{text:3,max:4,space:5,tag:0,className:1})}}function yo(s){let e,t,r;return t=new le({props:{text:s[0],className:"combo-default",max:"44"}}),{c(){e=v("p"),G(t.$$.fragment),this.h()},l(n){e=w(n,"P",{id:!0,class:!0});var o=T(e);F(t.$$.fragment,o),o.forEach(d),this.h()},h(){p(e,"id","chunk-possible"),p(e,"class","svelte-1yvq7gq")},m(n,o){R(n,e,o),z(t,e,null),r=!0},p(n,[o]){const i={};o&1&&(i.text=n[0]),t.$set(i)},i(n){r||($(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&d(e),V(t)}}}function ko(s,e,t){let{text:r}=e;return s.$$set=n=>{"text"in n&&t(0,r=n.text)},[r]}class Eo extends Q{constructor(e){super(),Z(this,e,ko,yo,X,{text:0})}}function zn(s,e,t){const r=s.slice();return r[1]=e[t],r}function Vn(s){let e,t;return e=new le({props:{text:s[1],max:"15",className:"combo-default"}}),{c(){G(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){z(e,r,n),t=!0},p(r,n){const o={};n&1&&(o.text=r[1]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function To(s){let e,t,r=s[0],n=[];for(let i=0;i<r.length;i+=1)n[i]=Vn(zn(s,r,i));const o=i=>P(n[i],1,1,()=>{n[i]=null});return{c(){e=v("p");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=w(i,"P",{id:!0});var a=T(e);for(let l=0;l<n.length;l+=1)n[l].l(a);a.forEach(d),this.h()},h(){p(e,"id","chunk-wod-words-info")},m(i,a){R(i,e,a);for(let l=0;l<n.length;l+=1)n[l].m(e,null);t=!0},p(i,[a]){if(a&1){r=i[0];let l;for(l=0;l<r.length;l+=1){const c=zn(i,r,l);n[l]?(n[l].p(c,a),$(n[l],1)):(n[l]=Vn(c),n[l].c(),$(n[l],1),n[l].m(e,null))}for(ce(),l=r.length;l<n.length;l+=1)o(l);he()}},i(i){if(!t){for(let a=0;a<r.length;a+=1)$(n[a]);t=!0}},o(i){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)P(n[a]);t=!1},d(i){i&&d(e),Oe(n,i)}}}function So(s,e,t){let{lines:r}=e;return s.$$set=n=>{"lines"in n&&t(0,r=n.lines)},[r]}class $o extends Q{constructor(e){super(),Z(this,e,So,To,X,{lines:0})}}function Oo(s){let e,t,r;return t=new le({props:{text:s[0],max:"1",className:"combo-wod"}}),{c(){e=v("p"),G(t.$$.fragment),this.h()},l(n){e=w(n,"P",{id:!0,class:!0});var o=T(e);F(t.$$.fragment,o),o.forEach(d),this.h()},h(){p(e,"id","chunk-wod-words-list"),p(e,"class","svelte-rspl7a")},m(n,o){R(n,e,o),z(t,e,null),r=!0},p(n,[o]){const i={};o&1&&(i.text=n[0]),t.$set(i)},i(n){r||($(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&d(e),V(t)}}}function jo(s,e,t){let{text:r}=e;return s.$$set=n=>{"text"in n&&t(0,r=n.text)},[r]}class Po extends Q{constructor(e){super(),Z(this,e,jo,Oo,X,{text:0})}}function Wn(s,e,t){const r=s.slice();return r[1]=e[t],r}function Jn(s){let e,t;return e=new le({props:{text:s[1],max:"15",className:"combo-default"}}),{c(){G(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){z(e,r,n),t=!0},p(r,n){const o={};n&1&&(o.text=r[1]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function Ro(s){let e,t,r=s[0],n=[];for(let i=0;i<r.length;i+=1)n[i]=Jn(Wn(s,r,i));const o=i=>P(n[i],1,1,()=>{n[i]=null});return{c(){e=v("p");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=w(i,"P",{id:!0});var a=T(e);for(let l=0;l<n.length;l+=1)n[l].l(a);a.forEach(d),this.h()},h(){p(e,"id","chunk-common-words-info")},m(i,a){R(i,e,a);for(let l=0;l<n.length;l+=1)n[l].m(e,null);t=!0},p(i,[a]){if(a&1){r=i[0];let l;for(l=0;l<r.length;l+=1){const c=Wn(i,r,l);n[l]?(n[l].p(c,a),$(n[l],1)):(n[l]=Jn(c),n[l].c(),$(n[l],1),n[l].m(e,null))}for(ce(),l=r.length;l<n.length;l+=1)o(l);he()}},i(i){if(!t){for(let a=0;a<r.length;a+=1)$(n[a]);t=!0}},o(i){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)P(n[a]);t=!1},d(i){i&&d(e),Oe(n,i)}}}function Io(s,e,t){let{lines:r}=e;return s.$$set=n=>{"lines"in n&&t(0,r=n.lines)},[r]}class Ao extends Q{constructor(e){super(),Z(this,e,Io,Ro,X,{lines:0})}}function Co(s){let e,t,r;return t=new le({props:{text:s[0],max:"1",className:"combo-wod"}}),{c(){e=v("p"),G(t.$$.fragment),this.h()},l(n){e=w(n,"P",{id:!0,class:!0});var o=T(e);F(t.$$.fragment,o),o.forEach(d),this.h()},h(){p(e,"id","chunk-common-words-list"),p(e,"class","svelte-1243s1f")},m(n,o){R(n,e,o),z(t,e,null),r=!0},p(n,[o]){const i={};o&1&&(i.text=n[0]),t.$set(i)},i(n){r||($(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&d(e),V(t)}}}function No(s,e,t){let{text:r}=e;return s.$$set=n=>{"text"in n&&t(0,r=n.text)},[r]}class Do extends Q{constructor(e){super(),Z(this,e,No,Co,X,{text:0})}}function xn(s){let e,t,r,n,o;return t=new $o({props:{lines:["some words",`${s[0].name} got`,"that you didn't"]}}),n=new Po({props:{text:s[5]}}),{c(){e=v("div"),G(t.$$.fragment),r=C(),G(n.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var a=T(e);F(t.$$.fragment,a),r=N(a),F(n.$$.fragment,a),a.forEach(d),this.h()},h(){p(e,"class","words wod-words svelte-631pl9")},m(i,a){R(i,e,a),z(t,e,null),m(e,r),z(n,e,null),o=!0},p(i,a){const l={};a&1&&(l.lines=["some words",`${i[0].name} got`,"that you didn't"]),t.$set(l);const c={};a&32&&(c.text=i[5]),n.$set(c)},i(i){o||($(t.$$.fragment,i),$(n.$$.fragment,i),o=!0)},o(i){P(t.$$.fragment,i),P(n.$$.fragment,i),o=!1},d(i){i&&d(e),V(t),V(n)}}}function Uo(s){let e,t,r,n,o,i,a,l,c;e=new Eo({props:{text:""+(s[2]+s[1])}}),o=new Ao({props:{lines:["common","words that",`${s[3]}`]}}),a=new Do({props:{text:s[4]}});let u=s[5].length&&xn(s);return{c(){G(e.$$.fragment),t=C(),r=v("div"),n=v("div"),G(o.$$.fragment),i=C(),G(a.$$.fragment),l=C(),u&&u.c(),this.h()},l(h){F(e.$$.fragment,h),t=N(h),r=w(h,"DIV",{class:!0});var g=T(r);n=w(g,"DIV",{class:!0});var f=T(n);F(o.$$.fragment,f),i=N(f),F(a.$$.fragment,f),f.forEach(d),l=N(g),u&&u.l(g),g.forEach(d),this.h()},h(){p(n,"class","words common-words svelte-631pl9"),p(r,"class","words-wrapper svelte-631pl9")},m(h,g){z(e,h,g),R(h,t,g),R(h,r,g),m(r,n),z(o,n,null),m(n,i),z(a,n,null),m(r,l),u&&u.m(r,null),c=!0},p(h,[g]){const f={};g&6&&(f.text=""+(h[2]+h[1])),e.$set(f);const _={};g&8&&(_.lines=["common","words that",`${h[3]}`]),o.$set(_);const b={};g&16&&(b.text=h[4]),a.$set(b),h[5].length?u?(u.p(h,g),g&32&&$(u,1)):(u=xn(h),u.c(),$(u,1),u.m(r,null)):u&&(ce(),P(u,1,1,()=>{u=null}),he())},i(h){c||($(e.$$.fragment,h),$(o.$$.fragment,h),$(a.$$.fragment,h),$(u),c=!0)},o(h){P(e.$$.fragment,h),P(o.$$.fragment,h),P(a.$$.fragment,h),P(u),c=!1},d(h){V(e,h),h&&d(t),h&&d(r),V(o),V(a),u&&u.d()}}}const Kn=3;function Mo(s,e,t){let r,n,o,i,a,l,c,u,h,g,f,_,b,E,O;B(s,Et,y=>t(0,g=y)),B(s,$t,y=>t(10,f=y)),B(s,Tr,y=>t(11,_=y)),B(s,Ye,y=>t(12,b=y)),B(s,Le,y=>t(13,E=y)),B(s,Ar,y=>t(14,O=y));const I=({word:y,lemmas:S})=>!!!S.split("|").find(J=>O.includes(J));return s.$$.update=()=>{s.$$.dirty&2048&&t(7,r=Ts(",")(_.length)),s.$$.dirty&12288&&t(9,n=E.wod[b]),s.$$.dirty&512&&t(5,o=n.filter(y=>y.valid).slice(0,Kn).map(y=>y.text).join(" ")),s.$$.dirty&512&&t(6,i=n.filter(y=>!y.valid).length),s.$$.dirty&2048&&t(8,a=ei(_.filter(y=>+y.points==1).filter(I))),s.$$.dirty&256&&t(4,l=a.slice(0,Kn).map(y=>y.word).join(" ")),s.$$.dirty&1024&&t(3,c=f?"you didn't get:":"nobody got"),s.$$.dirty&128&&t(2,u=`there were <em>${r}</em> possible words.`),s.$$.dirty&65&&t(1,h=i>0?` you blocked ${g==null?void 0:g.name} ${i} times.`:"")},[g,h,u,c,l,o,i,r,a,n,f,_,b,E]}class Lo extends Q{constructor(e){super(),Z(this,e,Mo,Uo,X,{})}}function Yn(s,e,t){const r=s.slice();return r[2]=e[t],r}function Xn(s){let e,t;return e=new le({props:{text:s[2],max:"20",className:"combo-"+s[1]}}),{c(){G(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){z(e,r,n),t=!0},p(r,n){const o={};n&1&&(o.text=r[2]),n&2&&(o.className="combo-"+r[1]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function Bo(s){let e,t,r=s[0],n=[];for(let i=0;i<r.length;i+=1)n[i]=Xn(Yn(s,r,i));const o=i=>P(n[i],1,1,()=>{n[i]=null});return{c(){e=v("h3");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=w(i,"H3",{id:!0,class:!0});var a=T(e);for(let l=0;l<n.length;l+=1)n[l].l(a);a.forEach(d),this.h()},h(){p(e,"id","chunk-recap-title"),p(e,"class","svelte-1x6vqro")},m(i,a){R(i,e,a);for(let l=0;l<n.length;l+=1)n[l].m(e,null);t=!0},p(i,[a]){if(a&3){r=i[0];let l;for(l=0;l<r.length;l+=1){const c=Yn(i,r,l);n[l]?(n[l].p(c,a),$(n[l],1)):(n[l]=Xn(c),n[l].c(),$(n[l],1),n[l].m(e,null))}for(ce(),l=r.length;l<n.length;l+=1)o(l);he()}},i(i){if(!t){for(let a=0;a<r.length;a+=1)$(n[a]);t=!0}},o(i){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)P(n[a]);t=!1},d(i){i&&d(e),Oe(n,i)}}}function Ho(s,e,t){let{lines:r}=e,{winner:n}=e;return s.$$set=o=>{"lines"in o&&t(0,r=o.lines),"winner"in o&&t(1,n=o.winner)},[r,n]}class qo extends Q{constructor(e){super(),Z(this,e,Ho,Bo,X,{lines:0,winner:1})}}function Go(s){let e,t,r,n,o;return t=new le({props:{className:"combo-user",text:"shameless plug:"}}),n=new le({props:{text:s[0],max:"28",className:"combo-wod"}}),{c(){e=v("p"),G(t.$$.fragment),r=C(),G(n.$$.fragment),this.h()},l(i){e=w(i,"P",{id:!0,class:!0});var a=T(e);F(t.$$.fragment,a),r=N(a),F(n.$$.fragment,a),a.forEach(d),this.h()},h(){p(e,"id","chunk-recap-plug"),p(e,"class","svelte-zres95")},m(i,a){R(i,e,a),z(t,e,null),m(e,r),z(n,e,null),o=!0},p(i,[a]){const l={};a&1&&(l.text=i[0]),n.$set(l)},i(i){o||($(t.$$.fragment,i),$(n.$$.fragment,i),o=!0)},o(i){P(t.$$.fragment,i),P(n.$$.fragment,i),o=!1},d(i){i&&d(e),V(t),V(n)}}}function Fo(s,e,t){let{text:r}=e;return s.$$set=n=>{"text"in n&&t(0,r=n.text)},[r]}class zo extends Q{constructor(e){super(),Z(this,e,Fo,Go,X,{text:0})}}function Vo(s){let e,t,r;return t=new le({props:{text:s[0],max:"30",className:"combo-default"}}),{c(){e=v("p"),G(t.$$.fragment),this.h()},l(n){e=w(n,"P",{id:!0,class:!0});var o=T(e);F(t.$$.fragment,o),o.forEach(d),this.h()},h(){p(e,"id","chunk-recap-goodbye"),p(e,"class","svelte-1hqojq5")},m(n,o){R(n,e,o),z(t,e,null),r=!0},p(n,[o]){const i={};o&1&&(i.text=n[0]),t.$set(i)},i(n){r||($(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&d(e),V(t)}}}function Wo(s,e,t){let{text:r}=e;return s.$$set=n=>{"text"in n&&t(0,r=n.text)},[r]}class Jo extends Q{constructor(e){super(),Z(this,e,Wo,Vo,X,{text:0})}}function Qn(s){let e,t;return e=new qo({props:{lines:s[1],winner:s[2]}}),{c(){G(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){z(e,r,n),t=!0},p(r,n){const o={};n&2&&(o.lines=r[1]),n&4&&(o.winner=r[2]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function Zn(s){var r;let e,t;return e=new zo({props:{text:(r=s[3])==null?void 0:r.plug,winner:s[2]}}),{c(){G(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,o){z(e,n,o),t=!0},p(n,o){var a;const i={};o&8&&(i.text=(a=n[3])==null?void 0:a.plug),o&4&&(i.winner=n[2]),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function es(s){let e,t;return e=new Jo({props:{text:"thanks for playing. come back tomorrow for a new stranger!"}}),{c(){G(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){z(e,r,n),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function xo(s){let e,t,r,n,o,i,a=!s[4]&&Qn(s),l=s[0]==="post"&&!s[4]&&s[2]==="wod"&&s[3].plug&&Zn(s);n=new Lo({});let c=s[0]==="post"&&!s[4]&&es();return{c(){e=v("div"),a&&a.c(),t=C(),l&&l.c(),r=C(),G(n.$$.fragment),o=C(),c&&c.c(),this.h()},l(u){e=w(u,"DIV",{class:!0});var h=T(e);a&&a.l(h),t=N(h),l&&l.l(h),r=N(h),F(n.$$.fragment,h),o=N(h),c&&c.l(h),h.forEach(d),this.h()},h(){p(e,"class","svelte-bvyxft")},m(u,h){R(u,e,h),a&&a.m(e,null),m(e,t),l&&l.m(e,null),m(e,r),z(n,e,null),m(e,o),c&&c.m(e,null),i=!0},p(u,[h]){u[4]?a&&(ce(),P(a,1,1,()=>{a=null}),he()):a?(a.p(u,h),h&16&&$(a,1)):(a=Qn(u),a.c(),$(a,1),a.m(e,t)),u[0]==="post"&&!u[4]&&u[2]==="wod"&&u[3].plug?l?(l.p(u,h),h&29&&$(l,1)):(l=Zn(u),l.c(),$(l,1),l.m(e,r)):l&&(ce(),P(l,1,1,()=>{l=null}),he()),u[0]==="post"&&!u[4]?c?h&17&&$(c,1):(c=es(),c.c(),$(c,1),c.m(e,null)):c&&(ce(),P(c,1,1,()=>{c=null}),he())},i(u){i||($(a),$(l),$(n.$$.fragment,u),$(c),i=!0)},o(u){P(a),P(l),P(n.$$.fragment,u),P(c),i=!1},d(u){u&&d(e),a&&a.d(),l&&l.d(),V(n),c&&c.d()}}}function Ko(s,e,t){let r,n,o,i,a,l,c,u,h;B(s,Te,E=>t(6,a=E)),B(s,Cr,E=>t(0,l=E)),B(s,ys,E=>t(7,c=E)),B(s,Et,E=>t(3,u=E)),B(s,$t,E=>t(4,h=E));let g;const f=()=>{t(1,g=o?[`You and ${u==null?void 0:u.name}`,"tied!"]:r?["You beat",`${u==null?void 0:u.name}!`]:[`${u==null?void 0:u.name}`,"beat you!"])},_=()=>{t(1,g=o?[`you and ${u==null?void 0:u.name}`,"are tied"]:r?["you are ahead",`of ${u==null?void 0:u.name}`]:[`${u==null?void 0:u.name} is`,"in the lead"])},b=()=>{l==="post"?f():_()};return s.$$.update=()=>{s.$$.dirty&128&&(r=c.user>c.wod),s.$$.dirty&128&&t(5,n=c.user<c.wod),s.$$.dirty&128&&(o=c.user===c.wod),s.$$.dirty&32&&t(2,i=n?"wod":"user"),s.$$.dirty&65&&b()},[l,g,i,u,h,n,a,c]}class Yo extends Q{constructor(e){super(),Z(this,e,Ko,xo,X,{})}}async function Xo(s){const e=`https://pudding.cool/games/words-against-strangers-data/wod-info/${s}.csv?version=${Date.now()}`;return await Yt(e)}function Qo(s){let e,t,r,n,o;return t=new le({props:{text:"welcome to",max:"10",className:"combo-user"}}),n=new le({props:{text:s[0],max:"1",className:"combo-user"}}),{c(){e=v("h2"),G(t.$$.fragment),r=C(),G(n.$$.fragment),this.h()},l(i){e=w(i,"H2",{id:!0,class:!0});var a=T(e);F(t.$$.fragment,a),r=N(a),F(n.$$.fragment,a),a.forEach(d),this.h()},h(){p(e,"id","chunk-title"),p(e,"class","svelte-s6dwex")},m(i,a){R(i,e,a),z(t,e,null),m(e,r),z(n,e,null),o=!0},p(i,[a]){const l={};a&1&&(l.text=i[0]),n.$set(l)},i(i){o||($(t.$$.fragment,i),$(n.$$.fragment,i),o=!0)},o(i){P(t.$$.fragment,i),P(n.$$.fragment,i),o=!1},d(i){i&&d(e),V(t),V(n)}}}function Zo(s,e,t){let{text:r}=e;return s.$$set=n=>{"text"in n&&t(0,r=n.text)},[r]}class ea extends Q{constructor(e){super(),Z(this,e,Zo,Qo,X,{text:0})}}function ta(s){let e,t,r;return t=new le({props:{text:s[0],max:"13",className:"combo-default"}}),{c(){e=v("p"),G(t.$$.fragment),this.h()},l(n){e=w(n,"P",{id:!0,class:!0});var o=T(e);F(t.$$.fragment,o),o.forEach(d),this.h()},h(){p(e,"id","chunk-description"),p(e,"class","svelte-cnnzop")},m(n,o){R(n,e,o),z(t,e,null),r=!0},p(n,[o]){const i={};o&1&&(i.text=n[0]),t.$set(i)},i(n){r||($(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&d(e),V(t)}}}function ra(s,e,t){let{text:r}=e;return s.$$set=n=>{"text"in n&&t(0,r=n.text)},[r]}class na extends Q{constructor(e){super(),Z(this,e,ra,ta,X,{text:0})}}function sa(s){let e,t,r;return t=new le({props:{text:ca,max:"12",className:"combo-wod-light"}}),{c(){e=v("span"),G(t.$$.fragment),this.h()},l(n){e=w(n,"SPAN",{class:!0});var o=T(e);F(t.$$.fragment,o),o.forEach(d),this.h()},h(){p(e,"class","loading svelte-1sphecr")},m(n,o){R(n,e,o),z(t,e,null),r=!0},p:te,i(n){r||($(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&d(e),V(t)}}}function ia(s){let e,t,r,n;const o=[aa,oa],i=[];function a(l,c){return l[6]?0:1}return e=a(s),t=i[e]=o[e](s),{c(){t.c(),r=oe()},l(l){t.l(l),r=oe()},m(l,c){i[e].m(l,c),R(l,r,c),n=!0},p(l,c){let u=e;e=a(l),e===u?i[e].p(l,c):(ce(),P(i[u],1,1,()=>{i[u]=null}),he(),t=i[e],t?t.p(l,c):(t=i[e]=o[e](l),t.c()),$(t,1),t.m(r.parentNode,r))},i(l){n||($(t),n=!0)},o(l){P(t),n=!1},d(l){i[e].d(l),l&&d(r)}}}function oa(s){let e,t,r;return t=new le({props:{text:ua,max:"12",className:"combo-wod-light"}}),{c(){e=v("span"),G(t.$$.fragment),this.h()},l(n){e=w(n,"SPAN",{class:!0});var o=T(e);F(t.$$.fragment,o),o.forEach(d),this.h()},h(){p(e,"class","no-game svelte-1sphecr")},m(n,o){R(n,e,o),z(t,e,null),r=!0},p:te,i(n){r||($(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&d(e),V(t)}}}function aa(s){var E,O,I;let e,t,r,n,o,i,a,l,c,u,h,g,f;e=new le({props:{text:"today that",className:"combo-wod-light a"}}),r=new le({props:{text:"person is",className:"combo-wod-light b"}}),o=new le({props:{max:"12",text:(E=s[3])==null?void 0:E.name,className:"combo-wod c big"}});let _=((O=s[3])==null?void 0:O.location)&&ts(s),b=((I=s[3])==null?void 0:I.bio)&&rs(s);return u=new le({props:{text:"can you",className:"combo-wod-light g "+s[4]}}),g=new le({props:{text:`beat ${s[5]}?`,className:"combo-wod-light h"}}),{c(){G(e.$$.fragment),t=C(),G(r.$$.fragment),n=C(),G(o.$$.fragment),i=C(),_&&_.c(),a=C(),b&&b.c(),l=C(),c=v("span"),G(u.$$.fragment),h=C(),G(g.$$.fragment),this.h()},l(y){F(e.$$.fragment,y),t=N(y),F(r.$$.fragment,y),n=N(y),F(o.$$.fragment,y),i=N(y),_&&_.l(y),a=N(y),b&&b.l(y),l=N(y),c=w(y,"SPAN",{class:!0});var S=T(c);F(u.$$.fragment,S),h=N(S),F(g.$$.fragment,S),S.forEach(d),this.h()},h(){p(c,"class","beat svelte-1sphecr"),x(c,"force-display",s[2]||s[1])},m(y,S){z(e,y,S),R(y,t,S),z(r,y,S),R(y,n,S),z(o,y,S),R(y,i,S),_&&_.m(y,S),R(y,a,S),b&&b.m(y,S),R(y,l,S),R(y,c,S),z(u,c,null),m(c,h),z(g,c,null),f=!0},p(y,S){var W,U,ee;const A={};S&8&&(A.text=(W=y[3])==null?void 0:W.name),o.$set(A),(U=y[3])!=null&&U.location?_?(_.p(y,S),S&8&&$(_,1)):(_=ts(y),_.c(),$(_,1),_.m(a.parentNode,a)):_&&(ce(),P(_,1,1,()=>{_=null}),he()),(ee=y[3])!=null&&ee.bio?b?(b.p(y,S),S&8&&$(b,1)):(b=rs(y),b.c(),$(b,1),b.m(l.parentNode,l)):b&&(ce(),P(b,1,1,()=>{b=null}),he());const J={};S&16&&(J.className="combo-wod-light g "+y[4]),u.$set(J);const H={};S&32&&(H.text=`beat ${y[5]}?`),g.$set(H),S&6&&x(c,"force-display",y[2]||y[1])},i(y){f||($(e.$$.fragment,y),$(r.$$.fragment,y),$(o.$$.fragment,y),$(_),$(b),$(u.$$.fragment,y),$(g.$$.fragment,y),f=!0)},o(y){P(e.$$.fragment,y),P(r.$$.fragment,y),P(o.$$.fragment,y),P(_),P(b),P(u.$$.fragment,y),P(g.$$.fragment,y),f=!1},d(y){V(e,y),y&&d(t),V(r,y),y&&d(n),V(o,y),y&&d(i),_&&_.d(y),y&&d(a),b&&b.d(y),y&&d(l),y&&d(c),V(u),V(g)}}}function ts(s){var o;let e,t,r,n;return e=new le({props:{text:"from",className:"combo-wod-light d"}}),r=new le({props:{max:"13",text:((o=s[3])==null?void 0:o.location)+".",className:"combo-wod-light e"}}),{c(){G(e.$$.fragment),t=C(),G(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=N(i),F(r.$$.fragment,i)},m(i,a){z(e,i,a),R(i,t,a),z(r,i,a),n=!0},p(i,a){var c;const l={};a&8&&(l.text=((c=i[3])==null?void 0:c.location)+"."),r.$set(l)},i(i){n||($(e.$$.fragment,i),$(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){V(e,i),i&&d(t),V(r,i)}}}function rs(s){var n,o;let e,t,r;return t=new le({props:{text:((n=s[3])==null?void 0:n.bio)+((o=s[3])!=null&&o.bio?".":""),max:"12",className:"combo-wod-light f"}}),{c(){e=v("span"),G(t.$$.fragment),this.h()},l(i){e=w(i,"SPAN",{class:!0});var a=T(e);F(t.$$.fragment,a),a.forEach(d),this.h()},h(){p(e,"class","bio svelte-1sphecr"),x(e,"bump",s[1])},m(i,a){R(i,e,a),z(t,e,null),r=!0},p(i,a){var c,u;const l={};a&8&&(l.text=((c=i[3])==null?void 0:c.bio)+((u=i[3])!=null&&u.bio?".":"")),t.$set(l),a&2&&x(e,"bump",i[1])},i(i){r||($(t.$$.fragment,i),r=!0)},o(i){P(t.$$.fragment,i),r=!1},d(i){i&&d(e),V(t)}}}function la(s){let e,t,r,n;const o=[ia,sa],i=[];function a(l,c){return l[0]?0:1}return t=a(s),r=i[t]=o[t](s),{c(){e=v("p"),r.c(),this.h()},l(l){e=w(l,"P",{id:!0,class:!0});var c=T(e);r.l(c),c.forEach(d),this.h()},h(){p(e,"id","chunk-info"),p(e,"class","svelte-1sphecr")},m(l,c){R(l,e,c),i[t].m(e,null),n=!0},p(l,[c]){let u=t;t=a(l),t===u?i[t].p(l,c):(ce(),P(i[u],1,1,()=>{i[u]=null}),he(),r=i[t],r?r.p(l,c):(r=i[t]=o[t](l),r.c()),$(r,1),r.m(e,null))},i(l){n||($(r),n=!0)},o(l){P(r),n=!1},d(l){l&&d(e),i[t].d()}}}const ua="there is no active game right now. launching sep. 23!",ca="loading today's game...";function ha(s,e,t){let r,n,o,i,a,l;B(s,Et,u=>t(3,a=u)),B(s,kt,u=>t(6,l=u));let{loaded:c}=e;return s.$$set=u=>{"loaded"in u&&t(0,c=u.loaded)},s.$$.update=()=>{s.$$.dirty&8&&t(5,r=a?a.pronoun.split("/")[1]:void 0),s.$$.dirty&8&&t(1,n=!(a!=null&&a.location)),s.$$.dirty&8&&t(2,o=!(a!=null&&a.bio)),s.$$.dirty&6&&t(4,i=o&&n?"bump":"")},[c,n,o,a,i,r,l]}class fa extends Q{constructor(e){super(),Z(this,e,ha,la,X,{loaded:0})}}function da(s){let e,t,r,n,o,i,a,l,c,u,h,g,f,_,b,E,O,I,y,S,A,J,H,W,U,ee,q,K,D,k,j,Y,re,me,de;return t=new ea({props:{text:s[2]}}),o=new na({props:{text:s[3]}}),a=new fa({props:{loaded:s[0]}}),{c(){e=v("div"),G(t.$$.fragment),r=C(),n=v("div"),G(o.$$.fragment),i=C(),G(a.$$.fragment),l=C(),c=v("div"),u=v("div"),h=v("button"),g=M("play"),_=C(),b=v("div"),E=v("div"),O=v("button"),I=M("rules"),y=C(),S=v("div"),A=v("span"),J=v("p"),H=M("be the next stranger: "),W=v("a"),U=M("sign up"),ee=C(),q=v("span"),K=v("p"),D=M("want to be the next stranger?"),k=C(),j=v("a"),Y=M("sign up"),this.h()},l(ne){e=w(ne,"DIV",{class:!0});var ge=T(e);F(t.$$.fragment,ge),r=N(ge),n=w(ge,"DIV",{class:!0});var ke=T(n);F(o.$$.fragment,ke),i=N(ke),F(a.$$.fragment,ke),ke.forEach(d),l=N(ge),c=w(ge,"DIV",{class:!0});var Pe=T(c);u=w(Pe,"DIV",{class:!0});var Qe=T(u);h=w(Qe,"BUTTON",{class:!0});var _e=T(h);g=L(_e,"play"),_e.forEach(d),Qe.forEach(d),_=N(Pe),b=w(Pe,"DIV",{class:!0});var Re=T(b);E=w(Re,"DIV",{class:!0});var Ie=T(E);O=w(Ie,"BUTTON",{class:!0});var Ze=T(O);I=L(Ze,"rules"),Ze.forEach(d),Ie.forEach(d),y=N(Re),S=w(Re,"DIV",{class:!0});var Ae=T(S);A=w(Ae,"SPAN",{class:!0});var Ce=T(A);J=w(Ce,"P",{class:!0});var He=T(J);H=L(He,"be the next stranger: "),W=w(He,"A",{href:!0,target:!0});var et=T(W);U=L(et,"sign up"),et.forEach(d),He.forEach(d),Ce.forEach(d),ee=N(Ae),q=w(Ae,"SPAN",{class:!0});var Se=T(q);K=w(Se,"P",{class:!0});var tt=T(K);D=L(tt,"want to be the next stranger?"),tt.forEach(d),k=N(Se),j=w(Se,"A",{role:!0,href:!0,target:!0,class:!0});var rt=T(j);Y=L(rt,"sign up"),rt.forEach(d),Se.forEach(d),Ae.forEach(d),Re.forEach(d),Pe.forEach(d),ge.forEach(d),this.h()},h(){p(n,"class","details svelte-1sgn8uy"),h.disabled=f=!s[0],p(h,"class","svelte-1sgn8uy"),p(u,"class","play svelte-1sgn8uy"),p(O,"class","svelte-1sgn8uy"),p(E,"class","rules svelte-1sgn8uy"),p(W,"href","https://www.getrevue.co/profile/wordsagainststrangers/"),p(W,"target","_blank"),p(J,"class","svelte-1sgn8uy"),p(A,"class","alt svelte-1sgn8uy"),p(K,"class","svelte-1sgn8uy"),p(j,"role","button"),p(j,"href","https://www.getrevue.co/profile/wordsagainststrangers/"),p(j,"target","_blank"),p(j,"class","svelte-1sgn8uy"),p(q,"class","reg svelte-1sgn8uy"),p(S,"class","signup svelte-1sgn8uy"),p(b,"class","other svelte-1sgn8uy"),p(c,"class","cta svelte-1sgn8uy"),p(e,"class","wrapper svelte-1sgn8uy")},m(ne,ge){R(ne,e,ge),z(t,e,null),m(e,r),m(e,n),z(o,n,null),m(n,i),z(a,n,null),m(e,l),m(e,c),m(c,u),m(u,h),m(h,g),m(c,_),m(c,b),m(b,E),m(E,O),m(O,I),m(b,y),m(b,S),m(S,A),m(A,J),m(J,H),m(J,W),m(W,U),m(S,ee),m(S,q),m(q,K),m(K,D),m(q,k),m(q,j),m(j,Y),re=!0,me||(de=[ue(h,"click",s[6]),ue(O,"click",s[7])],me=!0)},p(ne,[ge]){const ke={};ge&1&&(ke.loaded=ne[0]),a.$set(ke),(!re||ge&1&&f!==(f=!ne[0]))&&(h.disabled=f)},i(ne){re||($(t.$$.fragment,ne),$(o.$$.fragment,ne),$(a.$$.fragment,ne),re=!0)},o(ne){P(t.$$.fragment,ne),P(o.$$.fragment,ne),P(a.$$.fragment,ne),re=!1},d(ne){ne&&d(e),V(t),V(o),V(a),me=!1,Xe(de)}}}function ma(s,e,t){let r,n,o;B(s,kt,f=>t(5,r=f)),B(s,Et,f=>t(8,n=f)),B(s,Be,f=>t(1,o=f));let{loaded:i}=e;const{title:a,description:l}=vs("copy"),c=St(),u=async()=>{const[f]=await Xo(r);ye(Et,n=f,n)},h=()=>c("play"),g=()=>{ye(Be,o="rules",o)};return s.$$set=f=>{"loaded"in f&&t(0,i=f.loaded)},s.$$.update=()=>{s.$$.dirty&32&&r&&u()},[i,o,a,l,c,r,h,g]}class pa extends Q{constructor(e){super(),Z(this,e,ma,da,X,{loaded:0})}}const ga="1.35.4",Is={"X-Client-Info":`supabase-js/${ga}`},_a="supabase.auth.token";function va(s){return s.replace(/\/$/,"")}const wa=()=>typeof window<"u",ba="1.22.20",ya="http://localhost:9999",ka={"X-Client-Info":`gotrue-js/${ba}`},Gt=10,We={ERROR_MESSAGE:"Request Failed",MAX_RETRIES:10,RETRY_INTERVAL:2},jt="supabase.auth.token",Ea={name:"sb",lifetime:60*60*8,domain:"",path:"/",sameSite:"lax"};var Dt=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};const Ta=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Sa=(s,e)=>{if(!(s!=null&&s.status))return e({message:We.ERROR_MESSAGE});if(typeof s.json!="function")return e(s);s.json().then(t=>e({message:Ta(t),status:(s==null?void 0:s.status)||500}))},$a=(s,e,t)=>{const r={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"||(r.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(t)),r};function Xt(s,e,t,r,n){return Dt(this,void 0,void 0,function*(){return new Promise((o,i)=>{s(t,$a(e,r,n)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?o:a.json()}).then(a=>o(a)).catch(a=>Sa(a,i))})})}function yr(s,e,t){return Dt(this,void 0,void 0,function*(){return Xt(s,"GET",e,t)})}function ve(s,e,t,r){return Dt(this,void 0,void 0,function*(){return Xt(s,"POST",e,r,t)})}function ns(s,e,t,r){return Dt(this,void 0,void 0,function*(){return Xt(s,"PUT",e,r,t)})}function Oa(s,e,t,r){return Dt(this,void 0,void 0,function*(){return Xt(s,"DELETE",e,r,t)})}function ja(s,e,t){const r=t||{},n=encodeURIComponent,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!o.test(s))throw new TypeError("argument name is invalid");const i=n(e);if(i&&!o.test(i))throw new TypeError("argument val is invalid");let a=s+"="+i;if(r.maxAge!=null){const l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(l)}if(r.domain){if(!o.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!o.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function Pa(s){if(!s||!s.headers||!s.headers.host)throw new Error('The "host" request header is not available');const e=s.headers.host.indexOf(":")>-1&&s.headers.host.split(":")[0]||s.headers.host;return!(["localhost","127.0.0.1"].indexOf(e)>-1||e.endsWith(".local"))}function Ra(s,e){var t,r,n;return ja(s.name,s.value,{maxAge:s.maxAge,expires:new Date(Date.now()+s.maxAge*1e3),httpOnly:!0,secure:e,path:(t=s.path)!==null&&t!==void 0?t:"/",domain:(r=s.domain)!==null&&r!==void 0?r:"",sameSite:(n=s.sameSite)!==null&&n!==void 0?n:"lax"})}function Or(s,e,t){const r=t.map(o=>Ra(o,Pa(s))),n=e.getHeader("Set-Cookie");return n&&(n instanceof Array?Array.prototype.push.apply(r,n):typeof n=="string"&&r.push(n)),r}function Ft(s,e,t){e.setHeader("Set-Cookie",Or(s,e,t))}var Qt=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};function Ue(s){return Math.round(Date.now()/1e3)+s}function Ia(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const je=()=>typeof window<"u";function Me(s,e){var t;e||(e=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.href)||""),s=s.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+s+"(=([^&#]*)|&|#|$)"),n=r.exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}const Aa=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Qt(void 0,void 0,void 0,function*(){return yield(yield Kt(()=>import("./browser-ponyfill-2e15ed5e.js").then(r=>r.b),["_app/immutable/chunks/browser-ponyfill-2e15ed5e.js","_app/immutable/chunks/_commonjsHelpers-e864563f.js"])).fetch(...t)}):e=fetch,(...t)=>e(...t)},Ca=(s,e,t)=>Qt(void 0,void 0,void 0,function*(){je()&&(yield s==null?void 0:s.setItem(e,JSON.stringify(t)))}),Na=(s,e)=>Qt(void 0,void 0,void 0,function*(){const t=je()&&(yield s==null?void 0:s.getItem(e));if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Da=(s,e)=>{const t=je()&&(s==null?void 0:s.getItem(e));if(!t||typeof t!="string")return null;try{return JSON.parse(t)}catch{return t}},Ua=(s,e)=>Qt(void 0,void 0,void 0,function*(){je()&&(yield s==null?void 0:s.removeItem(e))});var ae=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};class Ma{constructor({url:e="",headers:t={},cookieOptions:r,fetch:n}){this.url=e,this.headers=t,this.cookieOptions=Object.assign(Object.assign({},Ea),r),this.fetch=Aa(n)}_createRequestHeaders(e){const t=Object.assign({},this.headers);return t.Authorization=`Bearer ${e}`,t}cookieName(){var e;return(e=this.cookieOptions.name)!==null&&e!==void 0?e:""}getUrlForProvider(e,t){const r=[`provider=${encodeURIComponent(e)}`];if(t!=null&&t.redirectTo&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),t!=null&&t.queryParams){const n=new URLSearchParams(t.queryParams);r.push(`${n}`)}return`${this.url}/authorize?${r.join("&")}`}signUpWithEmail(e,t,r={}){return ae(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers);let o="";r.redirectTo&&(o="?redirect_to="+encodeURIComponent(r.redirectTo));const i=yield ve(this.fetch,`${this.url}/signup${o}`,{email:e,password:t,data:r.data,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:n}),a=Object.assign({},i);return a.expires_in&&(a.expires_at=Ue(i.expires_in)),{data:a,error:null}}catch(n){return{data:null,error:n}}})}signInWithEmail(e,t,r={}){return ae(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers);let o="?grant_type=password";r.redirectTo&&(o+="&redirect_to="+encodeURIComponent(r.redirectTo));const i=yield ve(this.fetch,`${this.url}/token${o}`,{email:e,password:t},{headers:n}),a=Object.assign({},i);return a.expires_in&&(a.expires_at=Ue(i.expires_in)),{data:a,error:null}}catch(n){return{data:null,error:n}}})}signUpWithPhone(e,t,r={}){return ae(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers),o=yield ve(this.fetch,`${this.url}/signup`,{phone:e,password:t,data:r.data,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:n}),i=Object.assign({},o);return i.expires_in&&(i.expires_at=Ue(o.expires_in)),{data:i,error:null}}catch(n){return{data:null,error:n}}})}signInWithPhone(e,t){return ae(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers),n="?grant_type=password",o=yield ve(this.fetch,`${this.url}/token${n}`,{phone:e,password:t},{headers:r}),i=Object.assign({},o);return i.expires_in&&(i.expires_at=Ue(o.expires_in)),{data:i,error:null}}catch(r){return{data:null,error:r}}})}signInWithOpenIDConnect({id_token:e,nonce:t,client_id:r,issuer:n,provider:o}){return ae(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers),a="?grant_type=id_token",l=yield ve(this.fetch,`${this.url}/token${a}`,{id_token:e,nonce:t,client_id:r,issuer:n,provider:o},{headers:i}),c=Object.assign({},l);return c.expires_in&&(c.expires_at=Ue(l.expires_in)),{data:c,error:null}}catch(i){return{data:null,error:i}}})}sendMagicLinkEmail(e,t={}){var r;return ae(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers);let o="";t.redirectTo&&(o+="?redirect_to="+encodeURIComponent(t.redirectTo));const i=(r=t.shouldCreateUser)!==null&&r!==void 0?r:!0;return{data:yield ve(this.fetch,`${this.url}/otp${o}`,{email:e,create_user:i,gotrue_meta_security:{captcha_token:t.captchaToken}},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}sendMobileOTP(e,t={}){var r;return ae(this,void 0,void 0,function*(){try{const n=(r=t.shouldCreateUser)!==null&&r!==void 0?r:!0,o=Object.assign({},this.headers);return{data:yield ve(this.fetch,`${this.url}/otp`,{phone:e,create_user:n,gotrue_meta_security:{captcha_token:t.captchaToken}},{headers:o}),error:null}}catch(n){return{data:null,error:n}}})}signOut(e){return ae(this,void 0,void 0,function*(){try{return yield ve(this.fetch,`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(t){return{error:t}}})}verifyMobileOTP(e,t,r={}){return ae(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers),o=yield ve(this.fetch,`${this.url}/verify`,{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:n}),i=Object.assign({},o);return i.expires_in&&(i.expires_at=Ue(o.expires_in)),{data:i,error:null}}catch(n){return{data:null,error:n}}})}verifyOTP({email:e,phone:t,token:r,type:n="sms"},o={}){return ae(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers),a=yield ve(this.fetch,`${this.url}/verify`,{email:e,phone:t,token:r,type:n,redirect_to:o.redirectTo},{headers:i}),l=Object.assign({},a);return l.expires_in&&(l.expires_at=Ue(a.expires_in)),{data:l,error:null}}catch(i){return{data:null,error:i}}})}inviteUserByEmail(e,t={}){return ae(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let n="";return t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield ve(this.fetch,`${this.url}/invite${n}`,{email:e,data:t.data},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}resetPasswordForEmail(e,t={}){return ae(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let n="";return t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield ve(this.fetch,`${this.url}/recover${n}`,{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}refreshAccessToken(e){return ae(this,void 0,void 0,function*(){try{const t=yield ve(this.fetch,`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers}),r=Object.assign({},t);return r.expires_in&&(r.expires_at=Ue(t.expires_in)),{data:r,error:null}}catch(t){return{data:null,error:t}}})}setAuthCookie(e,t){e.method!=="POST"&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:n}=e.body;if(!r)throw new Error("Auth event missing!");if(r==="SIGNED_IN"){if(!n)throw new Error("Auth session missing!");Ft(e,t,[{key:"access-token",value:n.access_token},{key:"refresh-token",value:n.refresh_token}].map(o=>{var i;return{name:`${this.cookieName()}-${o.key}`,value:o.value,domain:this.cookieOptions.domain,maxAge:(i=this.cookieOptions.lifetime)!==null&&i!==void 0?i:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))}r==="SIGNED_OUT"&&Ft(e,t,["access-token","refresh-token"].map(o=>({name:`${this.cookieName()}-${o}`,value:"",maxAge:-1}))),t.status(200).json({})}deleteAuthCookie(e,t,{redirectTo:r="/"}){return Ft(e,t,["access-token","refresh-token"].map(n=>({name:`${this.cookieName()}-${n}`,value:"",maxAge:-1}))),t.redirect(307,r)}getAuthCookieString(e,t){e.method!=="POST"&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:n}=e.body;if(!r)throw new Error("Auth event missing!");if(r==="SIGNED_IN"){if(!n)throw new Error("Auth session missing!");return Or(e,t,[{key:"access-token",value:n.access_token},{key:"refresh-token",value:n.refresh_token}].map(o=>{var i;return{name:`${this.cookieName()}-${o.key}`,value:o.value,domain:this.cookieOptions.domain,maxAge:(i=this.cookieOptions.lifetime)!==null&&i!==void 0?i:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))}return r==="SIGNED_OUT"?Or(e,t,["access-token","refresh-token"].map(o=>({name:`${this.cookieName()}-${o}`,value:"",maxAge:-1}))):t.getHeader("Set-Cookie")}generateLink(e,t,r={}){return ae(this,void 0,void 0,function*(){try{return{data:yield ve(this.fetch,`${this.url}/admin/generate_link`,{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}createUser(e){return ae(this,void 0,void 0,function*(){try{const t=yield ve(this.fetch,`${this.url}/admin/users`,e,{headers:this.headers});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}listUsers(){return ae(this,void 0,void 0,function*(){try{return{data:(yield yr(this.fetch,`${this.url}/admin/users`,{headers:this.headers})).users,error:null}}catch(e){return{data:null,error:e}}})}getUserById(e){return ae(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/admin/users/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}getUserByCookie(e,t){return ae(this,void 0,void 0,function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");const r=e.cookies[`${this.cookieName()}-access-token`],n=e.cookies[`${this.cookieName()}-refresh-token`];if(!r)throw new Error("No cookie found!");const{user:o,error:i}=yield this.getUser(r);if(i){if(!n)throw new Error("No refresh_token cookie found!");if(!t)throw new Error("You need to pass the res object to automatically refresh the session!");const{data:a,error:l}=yield this.refreshAccessToken(n);if(l)throw l;if(a)return Ft(e,t,[{key:"access-token",value:a.access_token},{key:"refresh-token",value:a.refresh_token}].map(c=>{var u;return{name:`${this.cookieName()}-${c.key}`,value:c.value,domain:this.cookieOptions.domain,maxAge:(u=this.cookieOptions.lifetime)!==null&&u!==void 0?u:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}})),{token:a.access_token,user:a.user,data:a.user,error:null}}return{token:r,user:o,data:o,error:null}}catch(r){return{token:null,user:null,data:null,error:r}}})}updateUserById(e,t){return ae(this,void 0,void 0,function*(){try{const r=yield ns(this.fetch,`${this.url}/admin/users/${e}`,t,{headers:this.headers});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}deleteUser(e){return ae(this,void 0,void 0,function*(){try{const t=yield Oa(this.fetch,`${this.url}/admin/users/${e}`,{},{headers:this.headers});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}getUser(e){return ae(this,void 0,void 0,function*(){try{const t=yield yr(this.fetch,`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}updateUser(e,t){return ae(this,void 0,void 0,function*(){try{const r=yield ns(this.fetch,`${this.url}/user`,t,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}}function La(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var we=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};La();const Ba={url:ya,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:ka};class Ha{constructor(e){this.stateChangeEmitters=new Map,this.networkRetries=0;const t=Object.assign(Object.assign({},Ba),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.multiTab=t.multiTab,this.localStorage=t.localStorage||globalThis.localStorage,this.api=new Ma({url:t.url,headers:t.headers,cookieOptions:t.cookieOptions,fetch:t.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),this._handleVisibilityChange(),t.detectSessionInUrl&&je()&&!!Me("access_token")&&this.getSessionFromUrl({storeSession:!0}).then(({error:r})=>{if(r)throw new Error("Error getting session from URL.")})}signUp({email:e,password:t,phone:r},n={}){return we(this,void 0,void 0,function*(){try{this._removeSession();const{data:o,error:i}=r&&t?yield this.api.signUpWithPhone(r,t,{data:n.data,captchaToken:n.captchaToken}):yield this.api.signUpWithEmail(e,t,{redirectTo:n.redirectTo,data:n.data,captchaToken:n.captchaToken});if(i)throw i;if(!o)throw"An error occurred on sign up.";let a=null,l=null;return o.access_token&&(a=o,l=a.user,this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),o.id&&(l=o),{user:l,session:a,error:null}}catch(o){return{user:null,session:null,error:o}}})}signIn({email:e,phone:t,password:r,refreshToken:n,provider:o,oidc:i},a={}){return we(this,void 0,void 0,function*(){try{if(this._removeSession(),e&&!r){const{error:l}=yield this.api.sendMagicLinkEmail(e,{redirectTo:a.redirectTo,shouldCreateUser:a.shouldCreateUser,captchaToken:a.captchaToken});return{user:null,session:null,error:l}}if(e&&r)return this._handleEmailSignIn(e,r,{redirectTo:a.redirectTo});if(t&&!r){const{error:l}=yield this.api.sendMobileOTP(t,{shouldCreateUser:a.shouldCreateUser,captchaToken:a.captchaToken});return{user:null,session:null,error:l}}if(t&&r)return this._handlePhoneSignIn(t,r);if(n){const{error:l}=yield this._callRefreshToken(n);if(l)throw l;return{user:this.currentUser,session:this.currentSession,error:null}}if(o)return this._handleProviderSignIn(o,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});if(i)return this._handleOpenIDConnectSignIn(i);throw new Error("You must provide either an email, phone number, a third-party provider or OpenID Connect.")}catch(l){return{user:null,session:null,error:l}}})}verifyOTP(e,t={}){return we(this,void 0,void 0,function*(){try{this._removeSession();const{data:r,error:n}=yield this.api.verifyOTP(e,t);if(n)throw n;if(!r)throw"An error occurred on token verification.";let o=null,i=null;return r.access_token&&(o=r,i=o.user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),r.id&&(i=r),{user:i,session:o,error:null}}catch(r){return{user:null,session:null,error:r}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return we(this,void 0,void 0,function*(){try{if(!(!((e=this.currentSession)===null||e===void 0)&&e.access_token))throw new Error("Not logged in.");const{error:t}=yield this._callRefreshToken();if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(t){return{data:null,user:null,error:t}}})}update(e){var t;return we(this,void 0,void 0,function*(){try{if(!(!((t=this.currentSession)===null||t===void 0)&&t.access_token))throw new Error("Not logged in.");const{user:r,error:n}=yield this.api.updateUser(this.currentSession.access_token,e);if(n)throw n;if(!r)throw Error("Invalid user data.");const o=Object.assign(Object.assign({},this.currentSession),{user:r});return this._saveSession(o),this._notifyAllSubscribers("USER_UPDATED"),{data:r,user:r,error:null}}catch(r){return{data:null,user:null,error:r}}})}setSession(e){return we(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);return r?{session:null,error:r}:(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{session:t,error:null})}catch(t){return{error:t,session:null}}})}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:this.user()}),this._notifyAllSubscribers("TOKEN_REFRESHED"),this.currentSession}getSessionFromUrl(e){return we(this,void 0,void 0,function*(){try{if(!je())throw new Error("No browser detected.");const t=Me("error_description");if(t)throw new Error(t);const r=Me("provider_token"),n=Me("access_token");if(!n)throw new Error("No access_token detected.");const o=Me("expires_in");if(!o)throw new Error("No expires_in detected.");const i=Me("refresh_token");if(!i)throw new Error("No refresh_token detected.");const a=Me("token_type");if(!a)throw new Error("No token_type detected.");const c=Math.round(Date.now()/1e3)+parseInt(o),{user:u,error:h}=yield this.api.getUser(n);if(h)throw h;const g={provider_token:r,access_token:n,expires_in:parseInt(o),expires_at:c,refresh_token:i,token_type:a,user:u};if(e!=null&&e.storeSession){this._saveSession(g);const f=Me("type");this._notifyAllSubscribers("SIGNED_IN"),f==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:g,error:null}}catch(t){return{data:null,error:t}}})}signOut(){var e;return we(this,void 0,void 0,function*(){const t=(e=this.currentSession)===null||e===void 0?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){const{error:r}=yield this.api.signOut(t);if(r)return{error:r}}return{error:null}})}onAuthStateChange(e){try{const t=Ia(),r={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),{data:r,error:null}}catch(t){return{data:null,error:t}}}_handleEmailSignIn(e,t,r={}){var n,o;return we(this,void 0,void 0,function*(){try{const{data:i,error:a}=yield this.api.signInWithEmail(e,t,{redirectTo:r.redirectTo});return a||!i?{data:null,user:null,session:null,error:a}:((((n=i==null?void 0:i.user)===null||n===void 0?void 0:n.confirmed_at)||((o=i==null?void 0:i.user)===null||o===void 0?void 0:o.email_confirmed_at))&&(this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN")),{data:i,user:i.user,session:i,error:null})}catch(i){return{data:null,user:null,session:null,error:i}}})}_handlePhoneSignIn(e,t){var r;return we(this,void 0,void 0,function*(){try{const{data:n,error:o}=yield this.api.signInWithPhone(e,t);return o||!n?{data:null,user:null,session:null,error:o}:(!((r=n==null?void 0:n.user)===null||r===void 0)&&r.phone_confirmed_at&&(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN")),{data:n,user:n.user,session:n,error:null})}catch(n){return{data:null,user:null,session:null,error:n}}})}_handleProviderSignIn(e,t={}){const r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});try{return je()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(n){return r?{provider:e,url:r,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:n}}}_handleOpenIDConnectSignIn({id_token:e,nonce:t,client_id:r,issuer:n,provider:o}){return we(this,void 0,void 0,function*(){if(e&&t&&(r&&n||o))try{const{data:i,error:a}=yield this.api.signInWithOpenIDConnect({id_token:e,nonce:t,client_id:r,issuer:n,provider:o});return a||!i?{user:null,session:null,error:a}:(this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN"),{user:i.user,session:i,error:null})}catch(i){return{user:null,session:null,error:i}}throw new Error("You must provide a OpenID Connect provider with your id token and nonce.")})}_recoverSession(){try{const e=Da(this.localStorage,jt);if(!e)return null;const{currentSession:t,expiresAt:r}=e,n=Math.round(Date.now()/1e3);r>=n+Gt&&(t==null?void 0:t.user)&&(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){console.log("error",e)}}_recoverAndRefresh(){return we(this,void 0,void 0,function*(){try{const e=yield Na(this.localStorage,jt);if(!e)return null;const{currentSession:t,expiresAt:r}=e,n=Math.round(Date.now()/1e3);if(r<n+Gt)if(this.autoRefreshToken&&t.refresh_token){this.networkRetries++;const{error:o}=yield this._callRefreshToken(t.refresh_token);if(o){if(console.log(o.message),o.message===We.ERROR_MESSAGE&&this.networkRetries<We.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),Math.pow(We.RETRY_INTERVAL,this.networkRetries)*100);return}yield this._removeSession()}this.networkRetries=0}else this._removeSession();else t?(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(e){return console.error(e),null}})}_callRefreshToken(e){var t;return e===void 0&&(e=(t=this.currentSession)===null||t===void 0?void 0:t.refresh_token),we(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:r,error:n}=yield this.api.refreshAccessToken(e);if(n)throw n;if(!r)throw Error("Invalid session data.");return this._saveSession(r),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:r,error:null}}catch(r){return{data:null,error:r}}})}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach(t=>t.callback(e,this.currentSession))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const t=e.expires_at;if(t){const r=Math.round(Date.now()/1e3),n=t-r,o=n>Gt?Gt:.5;this._startAutoRefreshToken((n-o)*1e3)}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const t={currentSession:e,expiresAt:e.expires_at};Ca(this.localStorage,jt,t)}_removeSession(){return we(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),Ua(this.localStorage,jt)})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>we(this,void 0,void 0,function*(){this.networkRetries++;const{error:t}=yield this._callRefreshToken();t||(this.networkRetries=0),(t==null?void 0:t.message)===We.ERROR_MESSAGE&&this.networkRetries<We.MAX_RETRIES&&this._startAutoRefreshToken(Math.pow(We.RETRY_INTERVAL,this.networkRetries)*100)}),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_listenForMultiTabEvents(){if(!this.multiTab||!je()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("storage",e=>{var t;if(e.key===jt){const r=JSON.parse(String(e.newValue));!((t=r==null?void 0:r.currentSession)===null||t===void 0)&&t.access_token?(this._saveSession(r.currentSession),this._notifyAllSubscribers("SIGNED_IN")):(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"))}})}catch(e){console.error("_listenForMultiTabEvents",e)}}_handleVisibilityChange(){if(!this.multiTab||!je()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this._recoverAndRefresh()})}catch(e){console.error("_handleVisibilityChange",e)}}}class qa extends Ha{constructor(e){super(e)}}var ss=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};class Ur{constructor(e){Object.assign(this,e);let t;e.fetch?t=e.fetch:typeof fetch>"u"?t=(...r)=>ss(this,void 0,void 0,function*(){return yield(yield Kt(()=>import("./browser-ponyfill-2e15ed5e.js").then(n=>n.b),["_app/immutable/chunks/browser-ponyfill-2e15ed5e.js","_app/immutable/chunks/_commonjsHelpers-e864563f.js"])).fetch(...r)}):t=fetch,this.fetch=(...r)=>t(...r),this.shouldThrowOnError=e.shouldThrowOnError||!1,this.allowEmpty=e.allowEmpty||!1}throwOnError(e){return e==null&&(e=!0),this.shouldThrowOnError=e,this}then(e,t){typeof this.schema>"u"||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(n=>ss(this,void 0,void 0,function*(){var o,i,a,l;let c=null,u=null,h=null,g=n.status,f=n.statusText;if(n.ok){const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.split(",").includes("return=minimal");if(this.method!=="HEAD"&&!b){const I=yield n.text();I&&(this.headers.Accept==="text/csv"?u=I:u=JSON.parse(I))}const E=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),O=(a=n.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");E&&O&&O.length>1&&(h=parseInt(O[1]))}else{const b=yield n.text();try{c=JSON.parse(b)}catch{c={message:b}}if(c&&this.allowEmpty&&((l=c==null?void 0:c.details)===null||l===void 0?void 0:l.includes("Results contain 0 rows"))&&(c=null,g=200,f="OK"),c&&this.shouldThrowOnError)throw c}return{error:c,data:u,count:h,status:g,statusText:f,body:u}}));return this.shouldThrowOnError||(r=r.catch(n=>({error:{message:`FetchError: ${n.message}`,details:"",hint:"",code:n.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),r.then(e,t)}}class Ga extends Ur{select(e="*"){let t=!1;const r=e.split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this}order(e,{ascending:t=!0,nullsFirst:r=!1,foreignTable:n}={}){const o=typeof n>"u"?"order":`${n}.order`,i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}.${r?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const n=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}}class vt extends Ga{constructor(){super(...arguments),this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,t,r){return this.url.searchParams.append(`${e}`,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=typeof t>"u"?"or":`${t}.or`;return this.url.searchParams.append(r,`(${e})`),this}eq(e,t){return this.url.searchParams.append(`${e}`,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(`${e}`,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(`${e}`,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(`${e}`,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(`${e}`,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(`${e}`,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(`${e}`,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(`${e}`,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(`${e}`,`is.${t}`),this}in(e,t){const r=t.map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(`${e}`,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cs.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cd.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(t)}`),this}rangeLt(e,t){return this.url.searchParams.append(`${e}`,`sl.${t}`),this}rangeGt(e,t){return this.url.searchParams.append(`${e}`,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(`${e}`,`nxl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(`${e}`,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(`${e}`,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`ov.${t}`):this.url.searchParams.append(`${e}`,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n=null}={}){let o="";n==="plain"?o="pl":n==="phrase"?o="ph":n==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(`${e}`,`${o}fts${i}.${t}`),this}fts(e,t,{config:r}={}){const n=typeof r>"u"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`fts${n}.${t}`),this}plfts(e,t,{config:r}={}){const n=typeof r>"u"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`plfts${n}.${t}`),this}phfts(e,t,{config:r}={}){const n=typeof r>"u"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`phfts${n}.${t}`),this}wfts(e,t,{config:r}={}){const n=typeof r>"u"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`wfts${n}.${t}`),this}filter(e,t,r){return this.url.searchParams.append(`${e}`,`${t}.${r}`),this}match(e){return Object.keys(e).forEach(t=>{this.url.searchParams.append(`${t}`,`eq.${e[t]}`)}),this}}class As extends Ur{constructor(e,{headers:t={},schema:r,fetch:n,shouldThrowOnError:o}={}){super({fetch:n,shouldThrowOnError:o}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}select(e="*",{head:t=!1,count:r=null}={}){this.method="GET";let n=!1;const o=e.split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),t&&(this.method="HEAD"),new vt(this)}insert(e,{upsert:t=!1,onConflict:r,returning:n="representation",count:o=null}={}){this.method="POST";const i=[`return=${n}`];if(t&&i.push("resolution=merge-duplicates"),t&&r!==void 0&&this.url.searchParams.set("on_conflict",r),this.body=e,o&&i.push(`count=${o}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new vt(this)}upsert(e,{onConflict:t,returning:r="representation",count:n=null,ignoreDuplicates:o=!1}={}){this.method="POST";const i=[`resolution=${o?"ignore":"merge"}-duplicates`,`return=${r}`];return t!==void 0&&this.url.searchParams.set("on_conflict",t),this.body=e,n&&i.push(`count=${n}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new vt(this)}update(e,{returning:t="representation",count:r=null}={}){this.method="PATCH";const n=[`return=${t}`];return this.body=e,r&&n.push(`count=${r}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new vt(this)}delete({returning:e="representation",count:t=null}={}){this.method="DELETE";const r=[`return=${e}`];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new vt(this)}}class Fa extends Ur{constructor(e,{headers:t={},schema:r,fetch:n,shouldThrowOnError:o}={}){super({fetch:n,shouldThrowOnError:o}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}rpc(e,{head:t=!1,count:r=null}={}){return t?(this.method="HEAD",e&&Object.entries(e).forEach(([n,o])=>{this.url.searchParams.append(n,o)})):(this.method="POST",this.body=e),r&&(this.headers.Prefer!==void 0?this.headers.Prefer+=`,count=${r}`:this.headers.Prefer=`count=${r}`),new vt(this)}}const za="0.37.4",Va={"X-Client-Info":`postgrest-js/${za}`};class Wa{constructor(e,{headers:t={},schema:r,fetch:n,throwOnError:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},Va),t),this.schema=r,this.fetch=n,this.shouldThrowOnError=o}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const t=`${this.url}/${e}`;return new As(t,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}rpc(e,t,{head:r=!1,count:n=null}={}){const o=`${this.url}/rpc/${e}`;return new Fa(o,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError}).rpc(t,{head:r,count:n})}}var se;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(se||(se={}));const is=(s,e,t={})=>{var r;const n=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,i)=>(o[i]=Ja(i,s,e,n),o),{})},Ja=(s,e,t,r)=>{const n=e.find(a=>a.name===s),o=n==null?void 0:n.type,i=t[s];return o&&!r.includes(o)?Cs(o,i):jr(i)},Cs=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return Xa(e,t)}switch(s){case se.bool:return xa(e);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return Ka(e);case se.json:case se.jsonb:return Ya(e);case se.timestamp:return Qa(e);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return jr(e);default:return jr(e)}},jr=s=>s,xa=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Ka=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},Ya=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},Xa=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,r=s[t];if(s[0]==="{"&&r==="}"){let o;const i=s.slice(1,t);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Cs(e,a))}return s},Qa=s=>typeof s=="string"?s.replace(" ","T"):s;var kr,os;function Za(){if(os)return kr;os=1;var s=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return kr=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return s()}try{return __global__||s()}finally{delete Object.prototype.__global__}}(),kr}const el="websocket",tl="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",rl=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],nl="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",sl=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],il="1.0.34",ol={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},al="https://github.com/theturtle32/WebSocket-Node",ll={node:">=4.0.0"},ul={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},cl={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},hl={verbose:!1},fl={test:"tape test/unit/*.js",gulp:"gulp"},dl="index",ml={lib:"./lib"},pl="lib/browser.js",gl="Apache-2.0",_l={name:el,description:tl,keywords:rl,author:nl,contributors:sl,version:il,repository:ol,homepage:al,engines:ll,dependencies:ul,devDependencies:cl,config:hl,scripts:fl,main:dl,directories:ml,browser:pl,license:gl};var vl=_l.version,Je;if(typeof globalThis=="object")Je=globalThis;else try{Je=Za()}catch{}finally{if(!Je&&typeof window<"u"&&(Je=window),!Je)throw new Error("Could not determine global this")}var Ct=Je.WebSocket||Je.MozWebSocket,wl=vl;function Ns(s,e){var t;return e?t=new Ct(s,e):t=new Ct(s),t}Ct&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(s){Object.defineProperty(Ns,s,{get:function(){return Ct[s]}})});var bl={w3cwebsocket:Ct?Ns:null,version:wl};const yl="1.7.3",kl={"X-Client-Info":`realtime-js/${yl}`},El="1.0.0",Ds=1e4,Tl=1e3;var It;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(It||(It={}));var ie;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(ie||(ie={}));var pe;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(pe||(pe={}));var Pr;(function(s){s.websocket="websocket"})(Pr||(Pr={}));var xe;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(xe||(xe={}));class Mr{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Sl{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),o=t.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(e.slice(i,i+n));i=i+n;const l=r.decode(e.slice(i,i+o));i=i+o;const c=JSON.parse(r.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class bt{constructor(e,t,r={},n=Ds){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel instanceof Rr?this.channel.on(this.refEvent,e):this.channel.on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||(this.channel instanceof Rr?this.channel.off(this.refEvent):this.channel.off(this.refEvent,{}))}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class Rr{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new bt(this,pe.join,this.params,this.timeout),this.rejoinTimer=new Mr(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=ie.closed,this.socket.remove(this)}),this.onError(n=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.on(pe.reply,(n,o)=>{this.trigger(this.replyEventName(o),n)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(pe.close,e)}onError(e){this.on(pe.error,t=>e(t))}on(e,t){this.bindings.push({event:e,callback:t})}off(e){this.bindings=this.bindings.filter(t=>t.event!==e)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new bt(this,e,t,r);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(pe.close,"leave",this.joinRef())};this.joinPush.destroy();let r=new bt(this,pe.leave,{},e);return r.receive("ok",()=>t()).receive("timeout",()=>t()),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}trigger(e,t,r){let{close:n,error:o,leave:i,join:a}=pe;if(r&&[n,o,i,a].indexOf(e)>=0&&r!==this.joinRef())return;let c=this.onMessage(e,t,r);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(u=>u.event==="*"?e===(t==null?void 0:t.type):u.event===e).map(u=>u.callback(c,r))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===ie.closed}isErrored(){return this.state===ie.errored}isJoined(){return this.state===ie.joined}isJoining(){return this.state===ie.joining}isLeaving(){return this.state===ie.leaving}}class wt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel.on(r.state,{},n=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel.joinRef(),this.state=wt.syncState(this.state,n,o,i),this.pendingDiffs.forEach(l=>{this.state=wt.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel.on(r.diff,{},n=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=wt.syncDiff(this.state,n,o,i),a())})}static syncState(e,t,r,n){const o=this.cloneDeep(e),i=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const h=o[c];if(h){const g=u.map(E=>E.presence_id),f=h.map(E=>E.presence_id),_=u.filter(E=>f.indexOf(E.presence_id)<0),b=h.filter(E=>g.indexOf(E.presence_id)<0);_.length>0&&(a[c]=_),b.length>0&&(l[c]=b)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,n)}static syncDiff(e,t,r,n){const{joins:o,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(o,(a,l)=>{const c=e[a];if(e[a]=this.cloneDeep(l),c){const u=e[a].map(g=>g.presence_id),h=c.filter(g=>u.indexOf(g.presence_id)<0);e[a].unshift(...h)}r(a,c,l)}),this.map(i,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_id);c=c.filter(h=>u.indexOf(h.presence_id)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static list(e,t){return t||(t=(r,n)=>n),this.map(e,(r,n)=>t(r,n))}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return"metas"in n?t[r]=n.metas.map(o=>(o.presence_id=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}list(e){return wt.list(this.state,e)}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}class Jt{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new bt(this,pe.join,this.params,this.timeout),this.rejoinTimer=new Mr(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=ie.closed,this.socket.remove(this)}),this.onError(n=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.on(pe.reply,{},(n,o)=>{this.trigger(this.replyEventName(o),n)}),this.presence=new wt(this)}list(){return this.presence.list()}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const t=this.bindings.reduce((r,n)=>{const{type:o}=n;return["phx_close","phx_error","phx_reply","presence_diff","presence_state"].includes(o)||(r[o]=n),r},{});return Object.keys(t).length&&this.updateJoinPayload({configs:t}),this.joinedOnce=!0,this.rejoin(e),this.joinPush}}onClose(e){this.on(pe.close,{},e)}onError(e){this.on(pe.error,{},t=>e(t))}on(e,t,r){this.bindings.push({type:e,filter:t!=null?t:{},callback:r!=null?r:()=>{}})}off(e,t){this.bindings=this.bindings.filter(r=>!(r.type===e&&Jt.isEqual(r.filter,t)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new bt(this,e,t,r);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(pe.close,"leave",this.joinRef())};this.joinPush.destroy();const r=new bt(this,pe.leave,{},e);return r.receive("ok",()=>t()).receive("timeout",()=>t()),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}trigger(e,t,r){const{close:n,error:o,leave:i,join:a}=pe;if(r&&[n,o,i,a].indexOf(e)>=0&&r!==this.joinRef())return;const c=this.onMessage(e,t,r);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(u=>{var h,g;return(u==null?void 0:u.type)===e&&(((h=u==null?void 0:u.filter)===null||h===void 0?void 0:h.event)==="*"||((g=u==null?void 0:u.filter)===null||g===void 0?void 0:g.event)===(t==null?void 0:t.event))}).map(u=>u.callback(c,r))}send(e){const t=this.push(e.type,e);return new Promise(r=>{t.receive("ok",()=>r("ok")),t.receive("timeout",()=>r("timeout"))})}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===ie.closed}isErrored(){return this.state===ie.errored}isJoined(){return this.state===ie.joined}isJoining(){return this.state===ie.joining}isLeaving(){return this.state===ie.leaving}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}}var $l=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})},Ol=globalThis&&globalThis.__rest||function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(s);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(s,r[n])&&(t[r[n]]=s[r[n]]);return t};const jl=()=>{};class Pl{constructor(e,t){this.accessToken=null,this.channels=[],this.endPoint="",this.headers=kl,this.params={},this.timeout=Ds,this.transport=bl.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=jl,this.conn=null,this.sendBuffer=[],this.serializer=new Sl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${Pr.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs),t!=null&&t.longpollerTimeout&&(this.longpollerTimeout=t.longpollerTimeout),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(r,n)=>n(JSON.stringify(r)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Mr(()=>$l(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){return new Promise((r,n)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),r({error:null,data:!0})}catch(o){r({error:o,data:!1})}})}log(e,t,r){this.logger(e,t,r)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case It.connecting:return xe.Connecting;case It.open:return xe.Open;case It.closing:return xe.Closing;default:return xe.Closed}}isConnected(){return this.connectionState()===xe.Open}remove(e){this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}channel(e,t={}){var r;const{selfBroadcast:n}=t,o=Ol(t,["selfBroadcast"]);n&&(o.self_broadcast=n);const i=!((r=this.params)===null||r===void 0)&&r.vsndate?new Jt(e,o,this):new Rr(e,o,this);return i instanceof Jt&&(i.presence.onJoin((a,l,c)=>{i.trigger("presence",{event:"JOIN",key:a,currentPresences:l,newPresences:c})}),i.presence.onLeave((a,l,c)=>{i.trigger("presence",{event:"LEAVE",key:a,currentPresences:l,leftPresences:c})}),i.presence.onSync(()=>{i.trigger("presence",{event:"SYNC"})})),this.channels.push(i),i}push(e){const{topic:t,event:r,payload:n,ref:o}=e;let i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,n),this.isConnected()?i():this.sendBuffer.push(i)}onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:n,payload:o,ref:i}=t;(i&&i===this.pendingHeartbeatRef||n===(o==null?void 0:o.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${n} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a.isMember(r)).forEach(a=>a.trigger(n,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:El}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({user_token:e}),t.joinedOnce&&t.isJoined()&&t.push(pe.access_token,{access_token:e})})}leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r.isJoined()||r.isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e.trigger(pe.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Tl,"hearbeat timeout");return}this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Rl{constructor(e,t,r,n){const o={},i=n==="*"?`realtime:${r}`:`realtime:${r}:${n}`,a=t.Authorization.split(" ")[1];a&&(o.user_token=a),this.subscription=e.channel(i,o)}getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=is(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=is(e.columns,e.old_record)),t}on(e,t){return this.subscription.on(e,r=>{let n={schema:r.schema,table:r.table,commit_timestamp:r.commit_timestamp,eventType:r.type,new:{},old:{},errors:r.errors};n=Object.assign(Object.assign({},n),this.getPayloadRecords(r)),t(n)}),this}subscribe(e=()=>{}){return this.subscription.onError(t=>e("SUBSCRIPTION_ERROR",t)),this.subscription.onClose(()=>e("CLOSED")),this.subscription.subscribe().receive("ok",()=>e("SUBSCRIBED")).receive("error",t=>e("SUBSCRIPTION_ERROR",t)).receive("timeout",()=>e("RETRYING_AFTER_TIMEOUT")),this.subscription}}class Il extends As{constructor(e,{headers:t={},schema:r,realtime:n,table:o,fetch:i,shouldThrowOnError:a}){super(e,{headers:t,schema:r,fetch:i,shouldThrowOnError:a}),this._subscription=null,this._realtime=n,this._headers=t,this._schema=r,this._table=o}on(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new Rl(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,t)}}const Al="0.0.0",Cl={"X-Client-Info":`storage-js/${Al}`};var Ut=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};const Nl=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Dl=(s,e)=>{if(typeof s.json!="function")return e(s);s.json().then(t=>e({message:Nl(t),status:(s==null?void 0:s.status)||500}))},Ul=(s,e,t,r)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),t))};function Zt(s,e,t,r,n,o){return Ut(this,void 0,void 0,function*(){return new Promise((i,a)=>{s(t,Ul(e,r,n,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?i(l):l.json()}).then(l=>i(l)).catch(l=>Dl(l,a))})})}function Ir(s,e,t,r){return Ut(this,void 0,void 0,function*(){return Zt(s,"GET",e,t,r)})}function Ke(s,e,t,r,n){return Ut(this,void 0,void 0,function*(){return Zt(s,"POST",e,r,n,t)})}function Ml(s,e,t,r,n){return Ut(this,void 0,void 0,function*(){return Zt(s,"PUT",e,r,n,t)})}function Us(s,e,t,r,n){return Ut(this,void 0,void 0,function*(){return Zt(s,"DELETE",e,r,n,t)})}var Ll=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};const Ms=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Ll(void 0,void 0,void 0,function*(){return yield(yield Kt(()=>import("./browser-ponyfill-2e15ed5e.js").then(r=>r.b),["_app/immutable/chunks/browser-ponyfill-2e15ed5e.js","_app/immutable/chunks/_commonjsHelpers-e864563f.js"])).fetch(...t)}):e=fetch,(...t)=>e(...t)};var _t=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};class Bl{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Cl),t),this.fetch=Ms(r)}listBuckets(){return _t(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}createBucket(e,t={public:!1}){return _t(this,void 0,void 0,function*(){try{return{data:(yield Ke(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(r){return{data:null,error:r}}})}updateBucket(e,t){return _t(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}emptyBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}deleteBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}}var $e=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};const Hl={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ql={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gl{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Ms(n)}uploadOrUpdate(e,t,r,n){return $e(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},ql),n),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl)):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType);const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,{method:e,body:o,headers:a});if(u.ok)return{data:{Key:c},error:null};{const h=yield u.json();return{data:null,error:h}}}catch(o){return{data:null,error:o}}})}upload(e,t,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}update(e,t,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return $e(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}copy(e,t){return $e(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}createSignedUrl(e,t){return $e(this,void 0,void 0,function*(){try{const r=this._getFinalPath(e);let n=yield Ke(this.fetch,`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers});const o=`${this.url}${n.signedURL}`;return n={signedURL:o},{data:n,error:null,signedURL:o}}catch(r){return{data:null,error:r,signedURL:null}}})}createSignedUrls(e,t){return $e(this,void 0,void 0,function*(){try{return{data:(yield Ke(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers})).map(n=>Object.assign(Object.assign({},n),{signedURL:n.signedURL?`${this.url}${n.signedURL}`:null})),error:null}}catch(r){return{data:null,error:r}}})}download(e){return $e(this,void 0,void 0,function*(){try{const t=this._getFinalPath(e);return{data:yield(yield Ir(this.fetch,`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(t){return{data:null,error:t}}})}getPublicUrl(e){try{const t=this._getFinalPath(e),r=`${this.url}/object/public/${t}`;return{data:{publicURL:r},error:null,publicURL:r}}catch(t){return{data:null,error:t,publicURL:null}}}remove(e){return $e(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}list(e,t,r){return $e(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Hl),t),{prefix:e||""});return{data:yield Ke(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){return{data:null,error:n}}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}class Fl extends Bl{constructor(e,t={},r){super(e,t,r)}from(e){return new Gl(this.url,this.headers,e,this.fetch)}}var zl=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};const Vl=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>zl(void 0,void 0,void 0,function*(){return yield(yield Kt(()=>import("./browser-ponyfill-2e15ed5e.js").then(r=>r.b),["_app/immutable/chunks/browser-ponyfill-2e15ed5e.js","_app/immutable/chunks/_commonjsHelpers-e864563f.js"])).fetch(...t)}):e=fetch,(...t)=>e(...t)};var Wl=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};class Jl{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=Vl(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t){return Wl(this,void 0,void 0,function*(){try{const{headers:r,body:n}=t!=null?t:{},o=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign({},this.headers,r),body:n}),i=o.headers.get("x-relay-error");if(i&&i==="true")return{data:null,error:new Error(yield o.text())};let a;const{responseType:l}=t!=null?t:{};return!l||l==="json"?a=yield o.json():l==="arrayBuffer"?a=yield o.arrayBuffer():l==="blob"?a=yield o.blob():a=yield o.text(),{data:a,error:null}}catch(r){return{data:null,error:r}}})}}var zt=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};const xl={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:Is};class Kl{constructor(e,t,r){if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const n=va(e),o=Object.assign(Object.assign({},xl),r);if(this.restUrl=`${n}/rest/v1`,this.realtimeUrl=`${n}/realtime/v1`.replace("http","ws"),this.authUrl=`${n}/auth/v1`,this.storageUrl=`${n}/storage/v1`,n.match(/(supabase\.co)|(supabase\.in)/)){const a=n.split(".");this.functionsUrl=`${a[0]}.functions.${a[1]}.${a[2]}`}else this.functionsUrl=`${n}/functions/v1`;this.schema=o.schema,this.multiTab=o.multiTab,this.fetch=o.fetch,this.headers=Object.assign(Object.assign({},Is),r==null?void 0:r.headers),this.shouldThrowOnError=o.shouldThrowOnError||!1,this.auth=this._initSupabaseAuthClient(o),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},o.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}get functions(){return new Jl(this.functionsUrl,{headers:this._getAuthHeaders(),customFetch:this.fetch})}get storage(){return new Fl(this.storageUrl,this._getAuthHeaders(),this.fetch)}from(e){const t=`${this.restUrl}/${e}`;return new Il(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}rpc(e,t,{head:r=!1,count:n=null}={}){return this._initPostgRESTClient().rpc(e,t,{head:r,count:n})}channel(e,t){var r,n;const o=(n=(r=this.auth.session())===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey;return this.realtime.isConnected()||this.realtime.connect(),this.realtime.channel(e,Object.assign(Object.assign({},t),{user_token:o}))}removeAllSubscriptions(){return zt(this,void 0,void 0,function*(){const e=this.getSubscriptions().slice(),t=e.map(n=>this.removeSubscription(n));return(yield Promise.all(t)).map(({error:n},o)=>({data:{subscription:e[o]},error:n}))})}removeChannel(e){return zt(this,void 0,void 0,function*(){const{error:t}=yield this._closeSubscription(e),r=this.getSubscriptions(),n=r.filter(o=>o.isJoined()).length;return r.length===0&&(yield this.realtime.disconnect()),{data:{openChannels:n},error:t}})}removeSubscription(e){return zt(this,void 0,void 0,function*(){const{error:t}=yield this._closeSubscription(e),r=this.getSubscriptions(),n=r.filter(o=>o.isJoined()).length;return r.length===0&&(yield this.realtime.disconnect()),{data:{openSubscriptions:n},error:t}})}_closeSubscription(e){return zt(this,void 0,void 0,function*(){let t=null;if(!e.isClosed()){const{error:r}=yield this._unsubscribeSubscription(e);t=r}return this.realtime.remove(e),{error:t}})}_unsubscribeSubscription(e){return new Promise(t=>{e.unsubscribe().receive("ok",()=>t({error:null})).receive("error",r=>t({error:r})).receive("timeout",()=>t({error:new Error("timed out")}))})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:n,headers:o,fetch:i,cookieOptions:a,multiTab:l}){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qa({url:this.authUrl,headers:Object.assign(Object.assign({},o),c),autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:n,fetch:i,cookieOptions:a,multiTab:l})}_initRealtimeClient(e){return new Pl(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e==null?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new Wa(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch,throwOnError:this.shouldThrowOnError})}_getAuthHeaders(){var e,t;const r=Object.assign({},this.headers),n=(t=(e=this.auth.session())===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization=r.Authorization||`Bearer ${n}`,r}_listenForMultiTabEvents(){if(!this.multiTab||!wa()||!(window!=null&&window.addEventListener))return null;try{return window==null?void 0:window.addEventListener("storage",e=>{var t,r,n;if(e.key===_a){const o=JSON.parse(String(e.newValue)),i=(r=(t=o==null?void 0:o.currentSession)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:void 0,a=(n=this.auth.session())===null||n===void 0?void 0:n.access_token;i?!a&&i?this._handleTokenChanged("SIGNED_IN",i,"STORAGE"):a!==i&&this._handleTokenChanged("TOKEN_REFRESHED",i,"STORAGE"):this._handleTokenChanged("SIGNED_OUT",i,"STORAGE")}})}catch(e){return console.error("_listenForMultiTabEvents",e),null}}_listenForAuthEvents(){let{data:e}=this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,r==null?void 0:r.access_token,"CLIENT")});return e}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t),r=="STORAGE"&&this.auth.setAuth(t),this.changedAccessToken=t):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut())}}const Yl=(s,e,t)=>new Kl(s,e,t),Xl="https://dbmtysppmiwwjwaeneex.supabase.co",Ql="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRibXR5c3BwbWl3d2p3YWVuZWV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDQ5NTI0NDUsImV4cCI6MTk2MDUyODQ0NX0.i_1JrAfv5fieeVaiJrVIQPL6V0_-H9sR-PKIuGDAIfI",Mt=Yl(Xl,Ql),Gu=async({email:s,password:e})=>{const t=await Mt.auth.signIn({email:s,password:e});if(t.error)throw console.log(t.error),new Error("signIn failed");if(t.user)return!0;throw new Error("no user found")},Zl=async s=>{const e=await Mt.from("wordgame_wod-questions");if(e.error)throw console.log(e.error),new Error("getQuestions failed");if(e.data.length)return e.data;throw new Error("no questions matching that game id")},eu=async({gameId:s,column:e})=>{const t=await Mt.from("wordgame_games").select(e).eq("game_id",s);if(t.error)throw console.log(t.error),new Error("getGameColumn failed");if(t.data.length)return t.data[0][e];throw new Error("no games matching this id")},Lr=async({table:s,column:e,value:t,gameId:r})=>{const n=await Mt.from(s).update({[e]:t}).eq("game_id",r);if(n.error)throw console.log(n.error),new Error("update failed");if(n.data)return n.data},Ls=async({table:s,data:e})=>{const t={returning:"minimal"},r=await Mt.from(s).insert(e,t);if(r.error)throw console.log(r.error),new Error("insert failed");return!0};function as(s,e,t){const r=s.slice();return r[22]=e[t].id,r[23]=e[t].text,r[24]=e[t].detail,r[25]=e[t].type,r[26]=e[t].limit,r[27]=e[t].required,r[28]=e,r[29]=t,r}function tu(s){let e,t,r,n,o,i,a,l,c,u;return{c(){e=v("div"),t=v("div"),r=v("button"),n=M("How to Play"),o=C(),i=v("div"),a=v("button"),l=M("play"),this.h()},l(h){e=w(h,"DIV",{class:!0});var g=T(e);t=w(g,"DIV",{class:!0});var f=T(t);r=w(f,"BUTTON",{});var _=T(r);n=L(_,"How to Play"),_.forEach(d),f.forEach(d),o=N(g),i=w(g,"DIV",{class:!0});var b=T(i);a=w(b,"BUTTON",{});var E=T(a);l=L(E,"play"),E.forEach(d),b.forEach(d),g.forEach(d),this.h()},h(){p(t,"class","rules"),p(i,"class","play"),p(e,"class","cta")},m(h,g){R(h,e,g),m(e,t),m(t,r),m(r,n),m(e,o),m(e,i),m(i,a),m(a,l),c||(u=[ue(r,"click",s[17]),ue(a,"click",s[18])],c=!0)},p:te,d(h){h&&d(e),c=!1,Xe(u)}}}function ru(s){let e,t,r,n,o,i;function a(u,h){return u[6]?su:nu}let l=a(s),c=l(s);return{c(){e=v("p"),t=M("tell us about yourself. "),r=v("strong"),n=M(`note: anything you submit below may appear for the rest of the internet
			to see. we may lightly edit answers for brevity.`),o=C(),c.c(),i=oe()},l(u){e=w(u,"P",{});var h=T(e);t=L(h,"tell us about yourself. "),r=w(h,"STRONG",{});var g=T(r);n=L(g,`note: anything you submit below may appear for the rest of the internet
			to see. we may lightly edit answers for brevity.`),g.forEach(d),h.forEach(d),o=N(u),c.l(u),i=oe()},m(u,h){R(u,e,h),m(e,t),m(e,r),m(r,n),R(u,o,h),c.m(u,h),R(u,i,h)},p(u,h){l===(l=a(u))&&c?c.p(u,h):(c.d(1),c=l(u),c&&(c.c(),c.m(i.parentNode,i)))},d(u){u&&d(e),u&&d(o),c.d(u),u&&d(i)}}}function nu(s){let e,t,r,n,o,i,a,l,c,u,h,g,f,_,b,E=s[5],O=[];for(let I=0;I<E.length;I+=1)O[I]=ls(as(s,E,I));return{c(){e=v("form");for(let I=0;I<O.length;I+=1)O[I].c();t=C(),r=v("div"),n=v("button"),o=M("give me a different question"),i=C(),a=v("label"),l=M(s[3]),c=C(),u=v("input"),h=C(),g=v("button"),f=M("Submit"),this.h()},l(I){e=w(I,"FORM",{});var y=T(e);for(let W=0;W<O.length;W+=1)O[W].l(y);t=N(y),r=w(y,"DIV",{});var S=T(r);n=w(S,"BUTTON",{type:!0});var A=T(n);o=L(A,"give me a different question"),A.forEach(d),i=N(S),a=w(S,"LABEL",{for:!0});var J=T(a);l=L(J,s[3]),J.forEach(d),c=N(S),u=w(S,"INPUT",{id:!0,maxlength:!0,placeholder:!0}),S.forEach(d),h=N(y),g=w(y,"BUTTON",{type:!0});var H=T(g);f=L(H,"Submit"),H.forEach(d),y.forEach(d),this.h()},h(){p(n,"type","button"),p(a,"for","question-bio"),u.required=!1,p(u,"id","question-bio"),p(u,"maxlength","100"),p(u,"placeholder","answer here"),p(g,"type","submit")},m(I,y){R(I,e,y);for(let S=0;S<O.length;S+=1)O[S].m(e,null);m(e,t),m(e,r),m(r,n),m(n,o),m(r,i),m(r,a),m(a,l),m(r,c),m(r,u),yt(u,s[4]),m(e,h),m(e,g),m(g,f),_||(b=[ue(n,"click",s[9]),ue(u,"input",s[16]),ue(e,"submit",Xs(s[10]))],_=!0)},p(I,y){if(y&32){E=I[5];let S;for(S=0;S<E.length;S+=1){const A=as(I,E,S);O[S]?O[S].p(A,y):(O[S]=ls(A),O[S].c(),O[S].m(e,t))}for(;S<O.length;S+=1)O[S].d(1);O.length=E.length}y&8&&Ee(l,I[3]),y&16&&u.value!==I[4]&&yt(u,I[4])},d(I){I&&d(e),Oe(O,I),_=!1,Xe(b)}}}function su(s){let e,t;return{c(){e=v("p"),t=M("Error")},l(r){e=w(r,"P",{});var n=T(e);t=L(n,"Error"),n.forEach(d)},m(r,n){R(r,e,n),m(e,t)},p:te,d(r){r&&d(e)}}}function iu(s){let e,t,r,n,o,i,a;function l(){s[15].call(e,s[29])}return{c(){e=v("input"),this.h()},l(c){e=w(c,"INPUT",{id:!0,placeholder:!0,maxlength:!0}),this.h()},h(){e.required=t=s[27],p(e,"id",r="question-"+s[22]),p(e,"placeholder",n=s[22]),p(e,"maxlength",o=s[26])},m(c,u){R(c,e,u),yt(e,s[5][s[29]].answer),i||(a=ue(e,"input",l),i=!0)},p(c,u){s=c,u&32&&t!==(t=s[27])&&(e.required=t),u&32&&r!==(r="question-"+s[22])&&p(e,"id",r),u&32&&n!==(n=s[22])&&p(e,"placeholder",n),u&32&&o!==(o=s[26])&&p(e,"maxlength",o),u&32&&e.value!==s[5][s[29]].answer&&yt(e,s[5][s[29]].answer)},d(c){c&&d(e),i=!1,a()}}}function ou(s){let e,t,r,n,o,i,a,l,c,u,h,g,f,_,b,E,O,I;s[12][0][s[29]]=[];function y(){s[11].call(t,s[29])}function S(){s[13].call(a,s[29])}function A(){s[14].call(g,s[29])}return{c(){e=v("fieldset"),t=v("input"),r=C(),n=v("label"),o=M("they/them"),i=C(),a=v("input"),l=C(),c=v("label"),u=M("she/her"),h=C(),g=v("input"),f=C(),_=v("label"),b=M("he/him"),this.h()},l(J){e=w(J,"FIELDSET",{id:!0});var H=T(e);t=w(H,"INPUT",{id:!0,type:!0,name:!0}),r=N(H),n=w(H,"LABEL",{for:!0});var W=T(n);o=L(W,"they/them"),W.forEach(d),i=N(H),a=w(H,"INPUT",{id:!0,type:!0,name:!0}),l=N(H),c=w(H,"LABEL",{for:!0});var U=T(c);u=L(U,"she/her"),U.forEach(d),h=N(H),g=w(H,"INPUT",{id:!0,type:!0,name:!0}),f=N(H),_=w(H,"LABEL",{for:!0});var ee=T(_);b=L(ee,"he/him"),ee.forEach(d),H.forEach(d),this.h()},h(){p(t,"id","pronoun-1"),p(t,"type","radio"),p(t,"name","pronoun"),t.__value="they/them",t.value=t.__value,s[12][0][s[29]].push(t),p(n,"for","pronoun-1"),p(a,"id","pronoun-2"),p(a,"type","radio"),p(a,"name","pronoun"),a.__value="she/her",a.value=a.__value,s[12][0][s[29]].push(a),p(c,"for","pronoun-2"),p(g,"id","pronoun-3"),p(g,"type","radio"),p(g,"name","pronoun"),g.__value="he/him",g.value=g.__value,s[12][0][s[29]].push(g),p(_,"for","pronoun-3"),p(e,"id",E="question-"+s[22])},m(J,H){R(J,e,H),m(e,t),t.checked=t.__value===s[5][s[29]].answer,m(e,r),m(e,n),m(n,o),m(e,i),m(e,a),a.checked=a.__value===s[5][s[29]].answer,m(e,l),m(e,c),m(c,u),m(e,h),m(e,g),g.checked=g.__value===s[5][s[29]].answer,m(e,f),m(e,_),m(_,b),O||(I=[ue(t,"change",y),ue(a,"change",S),ue(g,"change",A)],O=!0)},p(J,H){s=J,H&32&&(t.checked=t.__value===s[5][s[29]].answer),H&32&&(a.checked=a.__value===s[5][s[29]].answer),H&32&&(g.checked=g.__value===s[5][s[29]].answer),H&32&&E!==(E="question-"+s[22])&&p(e,"id",E)},d(J){J&&d(e),s[12][0][s[29]].splice(s[12][0][s[29]].indexOf(t),1),s[12][0][s[29]].splice(s[12][0][s[29]].indexOf(a),1),s[12][0][s[29]].splice(s[12][0][s[29]].indexOf(g),1),O=!1,Xe(I)}}}function ls(s){let e,t,r=s[23]+"",n,o,i,a,l=s[24]+"",c;function u(f,_){return f[22]==="pronoun"?ou:iu}let h=u(s),g=h(s);return{c(){e=v("div"),t=v("label"),n=M(r),i=C(),a=v("p"),c=C(),g.c(),this.h()},l(f){e=w(f,"DIV",{});var _=T(e);t=w(_,"LABEL",{for:!0});var b=T(t);n=L(b,r),b.forEach(d),i=N(_),a=w(_,"P",{});var E=T(a);E.forEach(d),c=N(_),g.l(_),_.forEach(d),this.h()},h(){p(t,"for",o="question-"+s[22])},m(f,_){R(f,e,_),m(e,t),m(t,n),m(e,i),m(e,a),a.innerHTML=l,m(e,c),g.m(e,null)},p(f,_){_&32&&r!==(r=f[23]+"")&&Ee(n,r),_&32&&o!==(o="question-"+f[22])&&p(t,"for",o),_&32&&l!==(l=f[24]+"")&&(a.innerHTML=l),h===(h=u(f))&&g?g.p(f,_):(g.d(1),g=h(f),g&&(g.c(),g.m(e,null)))},d(f){f&&d(e),g.d()}}}function au(s){let e,t,r,n,o,i,a;function l(h,g){if(!h[0])return ru;if(h[1]&&!h[2])return tu}let c=l(s),u=c&&c(s);return{c(){e=v("h2"),t=M("welcome, stranger!"),r=C(),n=v("p"),o=M("let's play a word game."),i=C(),u&&u.c(),a=oe(),this.h()},l(h){e=w(h,"H2",{class:!0});var g=T(e);t=L(g,"welcome, stranger!"),g.forEach(d),r=N(h),n=w(h,"P",{});var f=T(n);o=L(f,"let's play a word game."),f.forEach(d),i=N(h),u&&u.l(h),a=oe(),this.h()},h(){p(e,"class","svelte-1uum1kk")},m(h,g){R(h,e,g),m(e,t),R(h,r,g),R(h,n,g),m(n,o),R(h,i,g),u&&u.m(h,g),R(h,a,g)},p(h,[g]){c===(c=l(h))&&u?u.p(h,g):(u&&u.d(1),u=c&&c(h),u&&(u.c(),u.m(a.parentNode,a)))},i:te,o:te,d(h){h&&d(e),h&&d(r),h&&d(n),h&&d(i),u&&u.d(h),h&&d(a)}}}function lu(s,e,t){let r,n,o;B(s,Nr,U=>t(21,n=U)),B(s,Be,U=>t(7,o=U));let{wodReady:i}=e,{loaded:a}=e,{hideButton:l}=e;const c=St(),u=[{id:"name",limit:12,text:"What is your name?",detail:"e.g., <em>Jane Doe</em> or <em>J. Doe</em> or <em>Jane</em>",required:!0},{id:"location",limit:12,text:"Where are from/living?",detail:"Optional",required:!1},{id:"pronoun",text:"What are your preferred pronouns?",required:!0},{id:"plug",limit:48,text:"What would you like to plug (about yourself, something, etc) at the end of the game?",detail:"e.g., <em>Follow me on Twitter @wordsagainststrangers</em> or <em>Have a great day!</em>",required:!1}];let h=[],g,f,_;const b=()=>{const U=Math.floor(Math.random()*h.length);t(3,f=h[U].question)},E=async()=>{try{const U={game_id:n};[...u,{id:"bio",answer:r}].forEach(({id:K,answer:D})=>{U[K]=D}),await Ls({table:"wordgame_wod-info",data:[U]}),await Lr({table:"wordgame_games",column:"wod_info",value:!0,gameId:n}),t(0,i=!0)}catch(U){console.log(U)}};Nt(async()=>{try{const U=await eu({gameId:n,column:"wod_info"});t(0,i=U),U||(h=await Zl(n),b())}catch{t(6,g=!0)}});const O=[[]];function I(U){u[U].answer=this.__value,t(5,u)}function y(U){u[U].answer=this.__value,t(5,u)}function S(U){u[U].answer=this.__value,t(5,u)}function A(U){u[U].answer=this.value,t(5,u)}function J(){_=this.value,t(4,_)}const H=()=>{ye(Be,o="rules",o)},W=()=>c("play");return s.$$set=U=>{"wodReady"in U&&t(0,i=U.wodReady),"loaded"in U&&t(1,a=U.loaded),"hideButton"in U&&t(2,l=U.hideButton)},s.$$.update=()=>{s.$$.dirty&24&&(r=`Q: ${f}
A: ${_}`)},[i,a,l,f,_,u,g,o,c,b,E,I,O,y,S,A,J,H,W]}class uu extends Q{constructor(e){super(),Z(this,e,lu,au,X,{wodReady:0,loaded:1,hideButton:2})}}function cu(s){let e,t;return{c(){e=v("p"),t=M(s[1])},l(r){e=w(r,"P",{});var n=T(e);t=L(n,s[1]),n.forEach(d)},m(r,n){R(r,e,n),m(e,t)},p(r,n){n&2&&Ee(t,r[1])},d(r){r&&d(e)}}}function hu(s){let e,t;return{c(){e=v("p"),t=M("Submitting responses...")},l(r){e=w(r,"P",{});var n=T(e);t=L(n,"Submitting responses..."),n.forEach(d)},m(r,n){R(r,e,n),m(e,t)},p:te,d(r){r&&d(e)}}}function fu(s){let e,t,r,n;function o(l,c){return l[0]===void 0?hu:cu}let i=o(s),a=i(s);return{c(){e=v("h2"),t=M("Thanks for playing!"),r=C(),a.c(),n=oe()},l(l){e=w(l,"H2",{});var c=T(e);t=L(c,"Thanks for playing!"),c.forEach(d),r=N(l),a.l(l),n=oe()},m(l,c){R(l,e,c),m(e,t),R(l,r,c),a.m(l,c),R(l,n,c)},p(l,[c]){i===(i=o(l))&&a?a.p(l,c):(a.d(1),a=i(l),a&&(a.c(),a.m(n.parentNode,n)))},i:te,o:te,d(l){l&&d(e),l&&d(r),a.d(l),l&&d(n)}}}function du(s,e,t){let r,n,o;B(s,Nr,a=>t(2,n=a)),B(s,Le,a=>t(3,o=a));let i;return Nt(async()=>{try{const l=[].concat(...o.user).filter(u=>u.valid).map(u=>({game_id:n,round:u.round,text:u.text,timestamp:u.timestamp,points:u.points,lemmas:u.lemmas}));await Ls({table:"wordgame_wod-answers",data:l})?(t(0,i=!0),await Lr({table:"wordgame_games",column:"wod_played",value:!0,gameId:n})):t(0,i=!1)}catch{t(0,i=!1)}}),s.$$.update=()=>{s.$$.dirty&1&&t(1,r=i?"Game successfully submitted!":"There was an error submitting your game. Please contact the admin: russell@pudding.cool.")},[i,r]}class mu extends Q{constructor(e){super(),Z(this,e,du,fu,X,{})}}function pu(s){let e,t;return e=new Rs({props:{review:!0}}),{c(){G(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){z(e,r,n),t=!0},p:te,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}class gu extends Q{constructor(e){super(),Z(this,e,null,pu,X,{})}}function us(s){let e,t,r,n;const o=[vu,_u],i=[];function a(l,c){return l[3]?0:1}return e=a(s),t=i[e]=o[e](s),{c(){t.c(),r=oe()},l(l){t.l(l),r=oe()},m(l,c){i[e].m(l,c),R(l,r,c),n=!0},p(l,c){let u=e;e=a(l),e===u?i[e].p(l,c):(ce(),P(i[u],1,1,()=>{i[u]=null}),he(),t=i[e],t?t.p(l,c):(t=i[e]=o[e](l),t.c()),$(t,1),t.m(r.parentNode,r))},i(l){n||($(t),n=!0)},o(l){P(t),n=!1},d(l){i[e].d(l),l&&d(r)}}}function _u(s){let e,t;return e=new pa({props:{loaded:s[0]}}),e.$on("play",s[6]),{c(){G(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){z(e,r,n),t=!0},p(r,n){const o={};n&1&&(o.loaded=r[0]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function vu(s){let e,t,r;function n(i){s[7](i)}let o={loaded:s[0],hideButton:s[4]};return s[1]!==void 0&&(o.wodReady=s[1]),e=new uu({props:o}),xt.push(()=>gs(e,"wodReady",n)),e.$on("play",s[6]),{c(){G(e.$$.fragment)},l(i){F(e.$$.fragment,i)},m(i,a){z(e,i,a),r=!0},p(i,a){const l={};a&1&&(l.loaded=i[0]),a&16&&(l.hideButton=i[4]),!t&&a&2&&(t=!0,l.wodReady=i[1],_s(()=>t=!1)),e.$set(l)},i(i){r||($(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){V(e,i)}}}function cs(s){let e,t;return e=new Yo({}),{c(){G(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){z(e,r,n),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function hs(s){let e,t,r,n;const o=[bu,wu],i=[];function a(l,c){return l[3]?0:1}return e=a(s),t=i[e]=o[e](s),{c(){t.c(),r=oe()},l(l){t.l(l),r=oe()},m(l,c){i[e].m(l,c),R(l,r,c),n=!0},p(l,c){let u=e;e=a(l),e!==u&&(ce(),P(i[u],1,1,()=>{i[u]=null}),he(),t=i[e],t||(t=i[e]=o[e](l),t.c()),$(t,1),t.m(r.parentNode,r))},i(l){n||($(t),n=!0)},o(l){P(t),n=!1},d(l){i[e].d(l),l&&d(r)}}}function wu(s){let e,t;return e=new gu({}),{c(){G(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){z(e,r,n),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function bu(s){let e,t;return e=new mu({}),{c(){G(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){z(e,r,n),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function fs(s){let e,t,r,n,o,i,a=s[5]+2+"",l,c,u,h,g;return{c(){e=v("div"),t=v("button"),r=M("next round"),n=C(),o=v("p"),i=M("round "),l=M(a),c=M(" of "),u=M(dn),this.h()},l(f){e=w(f,"DIV",{class:!0});var _=T(e);t=w(_,"BUTTON",{class:!0});var b=T(t);r=L(b,"next round"),b.forEach(d),n=N(_),o=w(_,"P",{class:!0});var E=T(o);i=L(E,"round "),l=L(E,a),c=L(E," of "),u=L(E,dn),E.forEach(d),_.forEach(d),this.h()},h(){p(t,"class","svelte-xnr8c5"),p(o,"class","svelte-xnr8c5"),p(e,"class","mid svelte-xnr8c5")},m(f,_){R(f,e,_),m(e,t),m(t,r),m(e,n),m(e,o),m(o,i),m(o,l),m(o,c),m(o,u),h||(g=ue(t,"click",s[6]),h=!0)},p(f,_){_&32&&a!==(a=f[5]+2+"")&&Ee(l,a)},d(f){f&&d(e),h=!1,g()}}}function yu(s){let e,t,r,n,o,i=s[2]==="pre"&&us(s),a=s[2]!=="pre"&&cs(),l=s[2]==="post"&&hs(s),c=s[2]==="mid"&&fs(s);return{c(){i&&i.c(),e=C(),a&&a.c(),t=C(),l&&l.c(),r=C(),c&&c.c(),n=oe()},l(u){i&&i.l(u),e=N(u),a&&a.l(u),t=N(u),l&&l.l(u),r=N(u),c&&c.l(u),n=oe()},m(u,h){i&&i.m(u,h),R(u,e,h),a&&a.m(u,h),R(u,t,h),l&&l.m(u,h),R(u,r,h),c&&c.m(u,h),R(u,n,h),o=!0},p(u,[h]){u[2]==="pre"?i?(i.p(u,h),h&4&&$(i,1)):(i=us(u),i.c(),$(i,1),i.m(e.parentNode,e)):i&&(ce(),P(i,1,1,()=>{i=null}),he()),u[2]!=="pre"?a?h&4&&$(a,1):(a=cs(),a.c(),$(a,1),a.m(t.parentNode,t)):a&&(ce(),P(a,1,1,()=>{a=null}),he()),u[2]==="post"?l?(l.p(u,h),h&4&&$(l,1)):(l=hs(u),l.c(),$(l,1),l.m(r.parentNode,r)):l&&(ce(),P(l,1,1,()=>{l=null}),he()),u[2]==="mid"?c?c.p(u,h):(c=fs(u),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null)},i(u){o||($(i),$(a),$(l),o=!0)},o(u){P(i),P(a),P(l),o=!1},d(u){i&&i.d(u),u&&d(e),a&&a.d(u),u&&d(t),l&&l.d(u),u&&d(r),c&&c.d(u),u&&d(n)}}}function ku(s,e,t){let r,n,o,i,a,l;B(s,Cr,f=>t(2,n=f)),B(s,$t,f=>t(3,o=f)),B(s,Ye,f=>t(5,i=f)),B(s,Te,f=>t(8,a=f)),B(s,kt,f=>t(9,l=f));let{loaded:c}=e,u;const h=async()=>{o&&n==="pre"?await Lr({table:"wordgame_games",column:"wod_started",value:!0,gameId:l}):n==="mid"&&ye(Te,a=!1,a),ye(Ye,i+=1,i)};function g(f){u=f,t(1,u)}return s.$$set=f=>{"loaded"in f&&t(0,c=f.loaded)},s.$$.update=()=>{s.$$.dirty&14&&t(4,r=o&&n==="pre"&&!u)},[c,u,n,o,r,i,h,g]}class Eu extends Q{constructor(e){super(),Z(this,e,ku,yu,X,{loaded:0})}}async function Tu(s){const e=`https://pudding.cool/games/words-against-strangers-data/game-clues/${s}.csv?version=${Date.now()}`,r=(await Yt(e)).map(n=>({...n,round:+n.round}));return r.sort((n,o)=>Zs(n.round,o.round)),r}async function Su(s){const e=[];for(let t of s){const r=`https://pudding.cool/games/words-against-strangers-data/clue-answers/${t}.csv?version=${Date.now()}`,o=(await Yt(r)).map(i=>({...i,points:+i.points}));e.push(o)}return e}async function $u(s){return await(await fetch(s)).json()}function ds(s){let e,t;return e=new yi({}),{c(){G(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){z(e,r,n),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function ms(s){let e,t,r;return t=new vo({props:{clues:s[0],answers:s[1]}}),{c(){e=v("section"),G(t.$$.fragment),this.h()},l(n){e=w(n,"SECTION",{id:!0});var o=T(e);F(t.$$.fragment,o),o.forEach(d),this.h()},h(){p(e,"id","play")},m(n,o){R(n,e,o),z(t,e,null),r=!0},p(n,o){const i={};o&1&&(i.clues=n[0]),o&2&&(i.answers=n[1]),t.$set(i)},i(n){r||($(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&d(e),V(t)}}}function Ou(s){let e,t,r,n,o,i=s[6]&&ds(),a=s[5]&&s[3]!=="post"&&ms(s);return n=new Eu({props:{loaded:s[2]}}),{c(){i&&i.c(),e=C(),a&&a.c(),t=C(),r=v("section"),G(n.$$.fragment),this.h()},l(l){i&&i.l(l),e=N(l),a&&a.l(l),t=N(l),r=w(l,"SECTION",{id:!0,class:!0});var c=T(r);F(n.$$.fragment,c),c.forEach(d),this.h()},h(){p(r,"id","modal"),p(r,"class","svelte-p31hnx"),x(r,"visible",s[4])},m(l,c){i&&i.m(l,c),R(l,e,c),a&&a.m(l,c),R(l,t,c),R(l,r,c),z(n,r,null),o=!0},p(l,[c]){l[6]?i?c&64&&$(i,1):(i=ds(),i.c(),$(i,1),i.m(e.parentNode,e)):i&&(ce(),P(i,1,1,()=>{i=null}),he()),l[5]&&l[3]!=="post"?a?(a.p(l,c),c&40&&$(a,1)):(a=ms(l),a.c(),$(a,1),a.m(t.parentNode,t)):a&&(ce(),P(a,1,1,()=>{a=null}),he());const u={};c&4&&(u.loaded=l[2]),n.$set(u),c&16&&x(r,"visible",l[4])},i(l){o||($(i),$(a),$(n.$$.fragment,l),o=!0)},o(l){P(i),P(a),P(n.$$.fragment,l),o=!1},d(l){i&&i.d(l),l&&d(e),a&&a.d(l),l&&d(t),l&&d(r),V(n)}}}function ju(s,e,t){let r,n,o,i,a,l,c,u;B(s,kt,b=>t(6,o=b)),B(s,Cr,b=>t(3,i=b)),B(s,Te,b=>t(7,a=b)),B(s,Ye,b=>t(8,l=b)),B(s,Nr,b=>t(10,c=b)),B(s,$t,b=>t(11,u=b));let h,g,f;const _=async()=>{if(u)return c;const E=`https://pudding.cool/games/words-against-strangers-data/games.json?version=${Date.now()}`,{updated:O,games:I}=await $u(E);console.log("updated:",O);const y=I.find(S=>S.live);if(y)return y.id};return Nt(async()=>{if(ye(kt,o=await _(),o),o){const b=await Tu(o);t(0,h=b.map(E=>E.clue)),t(1,g=await Su(b.map(E=>E.clueId)))}t(2,f=!0)}),s.$$.update=()=>{s.$$.dirty&263&&t(5,r=f&&h&&g&&l>=0),s.$$.dirty&136,s.$$.dirty&136&&t(4,n=a||["pre","post"].includes(i))},[h,g,f,i,n,r,o,a,l]}class Pu extends Q{constructor(e){super(),Z(this,e,ju,Ou,X,{})}}function Ru(s){let e,t,r,n,o,i,a,l,c,u,h,g,f,_,b,E,O,I,y,S,A,J,H,W,U,ee,q,K,D,k,j,Y,re,me,de,ne,ge,ke,Pe,Qe,_e,Re,Ie,Ze,Ae,Ce,He,et,Se,tt,rt,er,qe,nt,st,tr,rr,nr,Ge,it,ot,sr,ir,or,Ne,at,lt,ar,lr,ut,ur,cr,ct,Fe,hr,fr,Br;return{c(){e=v("section"),t=v("div"),r=v("h3"),n=v("span"),o=M("how to play"),i=C(),a=v("ul"),l=v("li"),c=v("h4"),u=v("span"),h=M("goal"),g=C(),f=v("p"),_=M("score more points than the stranger in four, one-minute rounds."),b=C(),E=v("li"),O=v("h4"),I=v("span"),y=M("gameplay"),S=C(),A=v("p"),J=M("enter as many words as possible that satisfy a clue."),H=C(),W=v("details"),U=v("summary"),ee=M("more details"),q=C(),K=v("ul"),D=v("li"),k=v("h5"),j=v("span"),Y=M("sample clue"),re=C(),me=v("p"),de=M("clue: "),ne=v("em"),ge=M("starts with "),ke=v("strong"),Pe=M("a"),Qe=C(),_e=v("p"),Re=M("answers: "),Ie=v("em"),Ze=M("apple"),Ae=M(", "),Ce=v("em"),He=M("awesome"),et=M(", "),Se=v("em"),tt=M("activate"),rt=M(`,
								etc.`),er=C(),qe=v("li"),nt=v("h5"),st=v("span"),tr=M("blocking"),rr=M(`
							whoever gets a word first gets points. If the stranger enters the word
							before you, you get no points, and vice versa.`),nr=C(),Ge=v("li"),it=v("h5"),ot=v("span"),sr=M("obscure = more points"),ir=M(`
							you get more points for less commonly used words.`),or=C(),Ne=v("li"),at=v("h4"),lt=v("span"),ar=M("other rules"),lr=C(),ut=v("p"),ur=M(`no proper nouns, hyphenated words, or varations (e.g., plurals) of a
					played word.`),cr=C(),ct=v("p"),Fe=v("button"),hr=M("close"),this.h()},l(ze){e=w(ze,"SECTION",{class:!0});var ht=T(e);t=w(ht,"DIV",{});var ft=T(t);r=w(ft,"H3",{class:!0});var Hr=T(r);n=w(Hr,"SPAN",{class:!0});var qr=T(n);o=L(qr,"how to play"),qr.forEach(d),Hr.forEach(d),i=N(ft),a=w(ft,"UL",{class:!0});var dt=T(a);l=w(dt,"LI",{class:!0});var Lt=T(l);c=w(Lt,"H4",{class:!0});var Gr=T(c);u=w(Gr,"SPAN",{class:!0});var Fr=T(u);h=L(Fr,"goal"),Fr.forEach(d),Gr.forEach(d),g=N(Lt),f=w(Lt,"P",{class:!0});var zr=T(f);_=L(zr,"score more points than the stranger in four, one-minute rounds."),zr.forEach(d),Lt.forEach(d),b=N(dt),E=w(dt,"LI",{class:!0});var mt=T(E);O=w(mt,"H4",{class:!0});var Vr=T(O);I=w(Vr,"SPAN",{class:!0});var Wr=T(I);y=L(Wr,"gameplay"),Wr.forEach(d),Vr.forEach(d),S=N(mt),A=w(mt,"P",{class:!0});var Jr=T(A);J=L(Jr,"enter as many words as possible that satisfy a clue."),Jr.forEach(d),H=N(mt),W=w(mt,"DETAILS",{});var Bt=T(W);U=w(Bt,"SUMMARY",{class:!0});var xr=T(U);ee=L(xr,"more details"),xr.forEach(d),q=N(Bt),K=w(Bt,"UL",{class:!0});var pt=T(K);D=w(pt,"LI",{class:!0});var gt=T(D);k=w(gt,"H5",{class:!0});var Kr=T(k);j=w(Kr,"SPAN",{class:!0});var Yr=T(j);Y=L(Yr,"sample clue"),Yr.forEach(d),Kr.forEach(d),re=N(gt),me=w(gt,"P",{class:!0});var dr=T(me);de=L(dr,"clue: "),ne=w(dr,"EM",{class:!0});var mr=T(ne);ge=L(mr,"starts with "),ke=w(mr,"STRONG",{});var Xr=T(ke);Pe=L(Xr,"a"),Xr.forEach(d),mr.forEach(d),dr.forEach(d),Qe=N(gt),_e=w(gt,"P",{class:!0});var De=T(_e);Re=L(De,"answers: "),Ie=w(De,"EM",{});var Qr=T(Ie);Ze=L(Qr,"apple"),Qr.forEach(d),Ae=L(De,", "),Ce=w(De,"EM",{});var Zr=T(Ce);He=L(Zr,"awesome"),Zr.forEach(d),et=L(De,", "),Se=w(De,"EM",{});var en=T(Se);tt=L(en,"activate"),en.forEach(d),rt=L(De,`,
								etc.`),De.forEach(d),gt.forEach(d),er=N(pt),qe=w(pt,"LI",{class:!0});var pr=T(qe);nt=w(pr,"H5",{class:!0});var tn=T(nt);st=w(tn,"SPAN",{class:!0});var rn=T(st);tr=L(rn,"blocking"),rn.forEach(d),tn.forEach(d),rr=L(pr,`
							whoever gets a word first gets points. If the stranger enters the word
							before you, you get no points, and vice versa.`),pr.forEach(d),nr=N(pt),Ge=w(pt,"LI",{class:!0});var gr=T(Ge);it=w(gr,"H5",{class:!0});var nn=T(it);ot=w(nn,"SPAN",{class:!0});var sn=T(ot);sr=L(sn,"obscure = more points"),sn.forEach(d),nn.forEach(d),ir=L(gr,`
							you get more points for less commonly used words.`),gr.forEach(d),pt.forEach(d),Bt.forEach(d),mt.forEach(d),or=N(dt),Ne=w(dt,"LI",{class:!0});var Ht=T(Ne);at=w(Ht,"H4",{class:!0});var on=T(at);lt=w(on,"SPAN",{class:!0});var an=T(lt);ar=L(an,"other rules"),an.forEach(d),on.forEach(d),lr=N(Ht),ut=w(Ht,"P",{class:!0});var ln=T(ut);ur=L(ln,`no proper nouns, hyphenated words, or varations (e.g., plurals) of a
					played word.`),ln.forEach(d),Ht.forEach(d),dt.forEach(d),cr=N(ft),ct=w(ft,"P",{class:!0});var un=T(ct);Fe=w(un,"BUTTON",{class:!0});var cn=T(Fe);hr=L(cn,"close"),cn.forEach(d),un.forEach(d),ft.forEach(d),ht.forEach(d),this.h()},h(){p(n,"class","chunk combo-user svelte-5f01ls"),p(r,"class","svelte-5f01ls"),p(u,"class","chunk combo-wod svelte-5f01ls"),p(c,"class","a svelte-5f01ls"),p(f,"class","svelte-5f01ls"),p(l,"class","svelte-5f01ls"),p(I,"class","chunk combo-wod svelte-5f01ls"),p(O,"class","b svelte-5f01ls"),p(A,"class","svelte-5f01ls"),p(U,"class","svelte-5f01ls"),p(j,"class","chunk combo-default svelte-5f01ls"),p(k,"class","svelte-5f01ls"),p(ne,"class","clue svelte-5f01ls"),p(me,"class","svelte-5f01ls"),p(_e,"class","svelte-5f01ls"),p(D,"class","svelte-5f01ls"),p(st,"class","chunk combo-default svelte-5f01ls"),p(nt,"class","svelte-5f01ls"),p(qe,"class","svelte-5f01ls"),p(ot,"class","chunk combo-default svelte-5f01ls"),p(it,"class","svelte-5f01ls"),p(Ge,"class","svelte-5f01ls"),p(K,"class","inner svelte-5f01ls"),p(E,"class","svelte-5f01ls"),p(lt,"class","chunk combo-wod svelte-5f01ls"),p(at,"class","c svelte-5f01ls"),p(ut,"class","svelte-5f01ls"),p(Ne,"class","svelte-5f01ls"),p(a,"class","svelte-5f01ls"),p(Fe,"class","svelte-5f01ls"),p(ct,"class","close svelte-5f01ls"),p(e,"class","svelte-5f01ls"),x(e,"visible",s[0]==="rules")},m(ze,ht){R(ze,e,ht),m(e,t),m(t,r),m(r,n),m(n,o),m(t,i),m(t,a),m(a,l),m(l,c),m(c,u),m(u,h),m(l,g),m(l,f),m(f,_),m(a,b),m(a,E),m(E,O),m(O,I),m(I,y),m(E,S),m(E,A),m(A,J),m(E,H),m(E,W),m(W,U),m(U,ee),m(W,q),m(W,K),m(K,D),m(D,k),m(k,j),m(j,Y),m(D,re),m(D,me),m(me,de),m(me,ne),m(ne,ge),m(ne,ke),m(ke,Pe),m(D,Qe),m(D,_e),m(_e,Re),m(_e,Ie),m(Ie,Ze),m(_e,Ae),m(_e,Ce),m(Ce,He),m(_e,et),m(_e,Se),m(Se,tt),m(_e,rt),m(K,er),m(K,qe),m(qe,nt),m(nt,st),m(st,tr),m(qe,rr),m(K,nr),m(K,Ge),m(Ge,it),m(it,ot),m(ot,sr),m(Ge,ir),m(a,or),m(a,Ne),m(Ne,at),m(at,lt),m(lt,ar),m(Ne,lr),m(Ne,ut),m(ut,ur),m(t,cr),m(t,ct),m(ct,Fe),m(Fe,hr),fr||(Br=ue(Fe,"click",s[1]),fr=!0)},p(ze,[ht]){ht&1&&x(e,"visible",ze[0]==="rules")},i:te,o:te,d(ze){ze&&d(e),fr=!1,Br()}}}function Iu(s,e,t){let r;return B(s,Be,o=>t(0,r=o)),[r,()=>{ye(Be,r=void 0,r)}]}class Au extends Q{constructor(e){super(),Z(this,e,Iu,Ru,X,{})}}function Cu(s){let e,t,r,n,o,i,a,l,c,u,h,g,f,_,b,E,O;return{c(){e=v("section"),t=v("div"),r=v("h3"),n=v("span"),o=M("about the game"),i=C(),a=v("p"),l=C(),c=v("p"),u=C(),h=v("p"),g=C(),f=v("p"),_=v("button"),b=M("close"),this.h()},l(I){e=w(I,"SECTION",{class:!0});var y=T(e);t=w(y,"DIV",{});var S=T(t);r=w(S,"H3",{class:!0});var A=T(r);n=w(A,"SPAN",{class:!0});var J=T(n);o=L(J,"about the game"),J.forEach(d),A.forEach(d),i=N(S),a=w(S,"P",{class:!0});var H=T(a);H.forEach(d),l=N(S),c=w(S,"P",{class:!0});var W=T(c);W.forEach(d),u=N(S),h=w(S,"P",{class:!0});var U=T(h);U.forEach(d),g=N(S),f=w(S,"P",{class:!0});var ee=T(f);_=w(ee,"BUTTON",{class:!0});var q=T(_);b=L(q,"close"),q.forEach(d),ee.forEach(d),S.forEach(d),y.forEach(d),this.h()},h(){p(n,"class","chunk combo-user svelte-17r4v8t"),p(r,"class","svelte-17r4v8t"),p(a,"class","svelte-17r4v8t"),p(c,"class","svelte-17r4v8t"),p(h,"class","svelte-17r4v8t"),p(_,"class","svelte-17r4v8t"),p(f,"class","close svelte-17r4v8t"),p(e,"class","svelte-17r4v8t"),x(e,"visible",s[0]==="about")},m(I,y){R(I,e,y),m(e,t),m(t,r),m(r,n),m(n,o),m(t,i),m(t,a),a.innerHTML=s[1],m(t,l),m(t,c),c.innerHTML=s[2],m(t,u),m(t,h),h.innerHTML=s[3],m(t,g),m(t,f),m(f,_),m(_,b),E||(O=[ue(_,"click",s[4]),ue(e,"click",s[4])],E=!0)},p(I,[y]){y&1&&x(e,"visible",I[0]==="about")},i:te,o:te,d(I){I&&d(e),E=!1,Xe(O)}}}function Nu(s,e,t){let r;B(s,Be,l=>t(0,r=l));const{byline:n,source:o,other:i}=vs("copy");return[r,n,o,i,()=>{ye(Be,r=void 0,r)}]}class Du extends Q{constructor(e){super(),Z(this,e,Nu,Cu,X,{})}}function Uu(s){let e,t,r,n,o,i,a;return t=new Pu({}),n=new Au({}),i=new Du({}),{c(){e=v("article"),G(t.$$.fragment),r=C(),G(n.$$.fragment),o=C(),G(i.$$.fragment),this.h()},l(l){e=w(l,"ARTICLE",{class:!0});var c=T(e);F(t.$$.fragment,c),r=N(c),F(n.$$.fragment,c),o=N(c),F(i.$$.fragment,c),c.forEach(d),this.h()},h(){p(e,"class","svelte-17xk6p2")},m(l,c){R(l,e,c),z(t,e,null),m(e,r),z(n,e,null),m(e,o),z(i,e,null),a=!0},p:te,i(l){a||($(t.$$.fragment,l),$(n.$$.fragment,l),$(i.$$.fragment,l),a=!0)},o(l){P(t.$$.fragment,l),P(n.$$.fragment,l),P(i.$$.fragment,l),a=!1},d(l){l&&d(e),V(t),V(n),V(i)}}}class Fu extends Q{constructor(e){super(),Z(this,e,null,Uu,X,{})}}function zu(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 3.1.0"),console.log("build: 2022-08-25-13:48"),console.log("--- --- --- --- --- ---")}export{Fu as A,qu as M,eu as g,Gu as s,zu as v};

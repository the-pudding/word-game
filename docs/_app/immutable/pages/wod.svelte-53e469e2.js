import{a7 as re,S as ee,i as te,s as se,e as g,c as v,a as w,d as c,b as d,g as y,E as C,Q as R,t as P,h as T,M as _,j as le,k as z,l as S,m as I,a1 as M,P as V,a3 as ae,G as ne,o as L,p as oe,q as N,w as j,x as F,y as G,B as Q,R as X,n as ie,a2 as ue,a5 as ce,a6 as pe}from"../chunks/index-5fe9b45c.js";import{w as W,s as fe,g as de,M as _e,a as Z,A as me}from"../chunks/App-93343073.js";import"../chunks/index-0e2bbb5e.js";const be=()=>{const n=re("__svelte__");return{page:{subscribe:n.page.subscribe},navigating:{subscribe:n.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:n.navigating.subscribe}},session:n.session,updated:n.updated}},he={subscribe(n){return be().page.subscribe(n)}};function ge(n){let e,r;return{c(){e=g("p"),r=P("No game id in URL, please contact admins")},l(s){e=v(s,"P",{});var l=w(e);r=T(l,"No game id in URL, please contact admins"),l.forEach(c)},m(s,l){y(s,e,l),_(e,r)},p:C,d(s){s&&c(e)}}}function ve(n){let e,r,s,l,a,t,i,o,p,k,h,b,O,E,q,U,$,D,Y,f=n[2]&&x(n);return{c(){e=g("form"),r=g("div"),s=g("label"),l=P("email"),a=z(),t=g("input"),i=z(),o=g("div"),p=g("label"),k=P("password"),h=z(),b=g("input"),O=z(),E=g("button"),q=P("Submit"),U=z(),f&&f.c(),$=S(),this.h()},l(u){e=v(u,"FORM",{});var m=w(e);r=v(m,"DIV",{class:!0});var A=w(r);s=v(A,"LABEL",{for:!0,class:!0});var H=w(s);l=T(H,"email"),H.forEach(c),a=I(A),t=v(A,"INPUT",{id:!0,placeholder:!0,class:!0}),A.forEach(c),i=I(m),o=v(m,"DIV",{class:!0});var B=w(o);p=v(B,"LABEL",{for:!0,class:!0});var J=w(p);k=T(J,"password"),J.forEach(c),h=I(B),b=v(B,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),B.forEach(c),O=I(m),E=v(m,"BUTTON",{type:!0});var K=w(E);q=T(K,"Submit"),K.forEach(c),m.forEach(c),U=I(u),f&&f.l(u),$=S(),this.h()},h(){d(s,"for","email"),d(s,"class","svelte-10255mh"),d(t,"id","email"),d(t,"placeholder","email"),d(t,"class","svelte-10255mh"),d(r,"class","svelte-10255mh"),d(p,"for","password"),d(p,"class","svelte-10255mh"),d(b,"id","password"),d(b,"placeholder","password"),d(b,"type","password"),d(b,"class","svelte-10255mh"),d(o,"class","svelte-10255mh"),d(E,"type","submit")},m(u,m){y(u,e,m),_(e,r),_(r,s),_(s,l),_(r,a),_(r,t),M(t,n[0]),_(e,i),_(e,o),_(o,p),_(p,k),_(o,h),_(o,b),M(b,n[1]),_(e,O),_(e,E),_(E,q),y(u,U,m),f&&f.m(u,m),y(u,$,m),D||(Y=[V(t,"input",n[6]),V(b,"input",n[7]),V(e,"submit",ae(n[4]))],D=!0)},p(u,m){m&1&&t.value!==u[0]&&M(t,u[0]),m&2&&b.value!==u[1]&&M(b,u[1]),u[2]?f?f.p(u,m):(f=x(u),f.c(),f.m($.parentNode,$)):f&&(f.d(1),f=null)},d(u){u&&c(e),u&&c(U),f&&f.d(u),u&&c($),D=!1,ne(Y)}}}function x(n){let e,r;return{c(){e=g("p"),r=P(n[2]),this.h()},l(s){e=v(s,"P",{class:!0});var l=w(e);r=T(l,n[2]),l.forEach(c),this.h()},h(){d(e,"class","error svelte-10255mh")},m(s,l){y(s,e,l),_(e,r)},p(s,l){l&4&&le(r,s[2])},d(s){s&&c(e)}}}function ke(n){let e;function r(a,t){return a[3]?ve:ge}let s=r(n),l=s(n);return{c(){e=g("section"),l.c(),this.h()},l(a){e=v(a,"SECTION",{class:!0});var t=w(e);l.l(t),t.forEach(c),this.h()},h(){d(e,"class","svelte-10255mh")},m(a,t){y(a,e,t),l.m(e,null)},p(a,[t]){s===(s=r(a))&&l?l.p(a,t):(l.d(1),l=s(a),l&&(l.c(),l.m(e,null)))},i:C,o:C,d(a){a&&c(e),l.d()}}}function we(n,e,r){let s;R(n,W,h=>r(3,s=h));let{authorized:l}=e,a,t,i;const o=async()=>{try{const h=await fe({email:a,password:t}),b=await de(s);r(5,l=h&&!b),b&&r(2,i="You already started playing, please contact admins.")}catch(h){console.log(h),r(2,i=h)}};function p(){a=this.value,r(0,a)}function k(){t=this.value,r(1,t)}return n.$$set=h=>{"authorized"in h&&r(5,l=h.authorized)},[a,t,i,s,o,l,p,k]}class ye extends ee{constructor(e){super(),te(this,e,we,ke,se,{authorized:5})}}function Ee(n){let e,r,s,l;const a=[ze,$e],t=[];function i(o,p){return o[0]?0:1}return e=i(n),r=t[e]=a[e](n),{c(){r.c(),s=S()},l(o){r.l(o),s=S()},m(o,p){t[e].m(o,p),y(o,s,p),l=!0},p(o,p){let k=e;e=i(o),e===k?t[e].p(o,p):(ie(),L(t[k],1,1,()=>{t[k]=null}),oe(),r=t[e],r?r.p(o,p):(r=t[e]=a[e](o),r.c()),N(r,1),r.m(s.parentNode,s))},i(o){l||(N(r),l=!0)},o(o){L(r),l=!1},d(o){t[e].d(o),o&&c(s)}}}function $e(n){let e,r,s;function l(t){n[1](t)}let a={};return n[0]!==void 0&&(a.authorized=n[0]),e=new ye({props:a}),ue.push(()=>ce(e,"authorized",l)),{c(){j(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,i){G(e,t,i),s=!0},p(t,i){const o={};!r&&i&1&&(r=!0,o.authorized=t[0],pe(()=>r=!1)),e.$set(o)},i(t){s||(N(e.$$.fragment,t),s=!0)},o(t){L(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function ze(n){let e,r;return e=new me({}),{c(){j(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,l){G(e,s,l),r=!0},p:C,i(s){r||(N(e.$$.fragment,s),r=!0)},o(s){L(e.$$.fragment,s),r=!1},d(s){Q(e,s)}}}function Ie(n){let e,r,s,l;e=new _e({});let a=Ee(n);return{c(){j(e.$$.fragment),r=z(),a&&a.c(),s=S()},l(t){F(e.$$.fragment,t),r=I(t),a&&a.l(t),s=S()},m(t,i){G(e,t,i),y(t,r,i),a&&a.m(t,i),y(t,s,i),l=!0},p(t,[i]){a.p(t,i)},i(t){l||(N(e.$$.fragment,t),N(a),l=!0)},o(t){L(e.$$.fragment,t),L(a),l=!1},d(t){Q(e,t),t&&c(r),a&&a.d(t),t&&c(s)}}}function Se(n,e,r){let s,l,a;R(n,he,o=>r(2,s=o)),R(n,W,o=>r(3,l=o)),R(n,Z,o=>r(4,a=o)),console.log("svelte-starter version","3.0.40"),X(Z,a=s.url.pathname.includes("wod"),a),X(W,l=s.url.search.split("id=")[1],l);let t;function i(o){t=o,r(0,t)}return[t,i]}class Te extends ee{constructor(e){super(),te(this,e,Se,Ie,se,{})}}export{Te as default};

import{a7 as re,S as ee,i as te,s as se,e as g,c as v,a as w,d as c,b as _,g as y,E as C,Q as R,t as P,h as T,M as d,j as ae,k as z,l as S,m as I,a1 as M,P as V,a3 as le,G as oe,o as L,p as ne,q as N,w as j,x as F,y as G,B as Q,R as X,n as ie,a2 as ue,a5 as ce,a6 as fe}from"../chunks/index-5fe9b45c.js";import{w as W,s as pe,g as _e,M as de,a as Z,A as me}from"../chunks/App-c354df3e.js";import"../chunks/index-0e2bbb5e.js";const be=()=>{const o=re("__svelte__");return{page:{subscribe:o.page.subscribe},navigating:{subscribe:o.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:o.navigating.subscribe}},session:o.session,updated:o.updated}},he={subscribe(o){return be().page.subscribe(o)}};function ge(o){let e,r;return{c(){e=g("p"),r=P("No game id in URL, please contact admins")},l(s){e=v(s,"P",{});var a=w(e);r=T(a,"No game id in URL, please contact admins"),a.forEach(c)},m(s,a){y(s,e,a),d(e,r)},p:C,d(s){s&&c(e)}}}function ve(o){let e,r,s,a,l,t,i,n,f,k,h,b,O,E,q,U,$,D,Y,p=o[2]&&x(o);return{c(){e=g("form"),r=g("div"),s=g("label"),a=P("email"),l=z(),t=g("input"),i=z(),n=g("div"),f=g("label"),k=P("password"),h=z(),b=g("input"),O=z(),E=g("button"),q=P("Submit"),U=z(),p&&p.c(),$=S(),this.h()},l(u){e=v(u,"FORM",{});var m=w(e);r=v(m,"DIV",{class:!0});var A=w(r);s=v(A,"LABEL",{for:!0,class:!0});var H=w(s);a=T(H,"email"),H.forEach(c),l=I(A),t=v(A,"INPUT",{id:!0,placeholder:!0,class:!0}),A.forEach(c),i=I(m),n=v(m,"DIV",{class:!0});var B=w(n);f=v(B,"LABEL",{for:!0,class:!0});var J=w(f);k=T(J,"password"),J.forEach(c),h=I(B),b=v(B,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),B.forEach(c),O=I(m),E=v(m,"BUTTON",{type:!0});var K=w(E);q=T(K,"Submit"),K.forEach(c),m.forEach(c),U=I(u),p&&p.l(u),$=S(),this.h()},h(){_(s,"for","email"),_(s,"class","svelte-10255mh"),_(t,"id","email"),_(t,"placeholder","email"),_(t,"class","svelte-10255mh"),_(r,"class","svelte-10255mh"),_(f,"for","password"),_(f,"class","svelte-10255mh"),_(b,"id","password"),_(b,"placeholder","password"),_(b,"type","password"),_(b,"class","svelte-10255mh"),_(n,"class","svelte-10255mh"),_(E,"type","submit")},m(u,m){y(u,e,m),d(e,r),d(r,s),d(s,a),d(r,l),d(r,t),M(t,o[0]),d(e,i),d(e,n),d(n,f),d(f,k),d(n,h),d(n,b),M(b,o[1]),d(e,O),d(e,E),d(E,q),y(u,U,m),p&&p.m(u,m),y(u,$,m),D||(Y=[V(t,"input",o[6]),V(b,"input",o[7]),V(e,"submit",le(o[4]))],D=!0)},p(u,m){m&1&&t.value!==u[0]&&M(t,u[0]),m&2&&b.value!==u[1]&&M(b,u[1]),u[2]?p?p.p(u,m):(p=x(u),p.c(),p.m($.parentNode,$)):p&&(p.d(1),p=null)},d(u){u&&c(e),u&&c(U),p&&p.d(u),u&&c($),D=!1,oe(Y)}}}function x(o){let e,r;return{c(){e=g("p"),r=P(o[2]),this.h()},l(s){e=v(s,"P",{class:!0});var a=w(e);r=T(a,o[2]),a.forEach(c),this.h()},h(){_(e,"class","error svelte-10255mh")},m(s,a){y(s,e,a),d(e,r)},p(s,a){a&4&&ae(r,s[2])},d(s){s&&c(e)}}}function ke(o){let e;function r(l,t){return l[3]?ve:ge}let s=r(o),a=s(o);return{c(){e=g("section"),a.c(),this.h()},l(l){e=v(l,"SECTION",{class:!0});var t=w(e);a.l(t),t.forEach(c),this.h()},h(){_(e,"class","svelte-10255mh")},m(l,t){y(l,e,t),a.m(e,null)},p(l,[t]){s===(s=r(l))&&a?a.p(l,t):(a.d(1),a=s(l),a&&(a.c(),a.m(e,null)))},i:C,o:C,d(l){l&&c(e),a.d()}}}function we(o,e,r){let s;R(o,W,h=>r(3,s=h));let{authorized:a}=e,l,t,i;const n=async()=>{try{const h=await pe({email:l,password:t}),b=await _e(s);r(5,a=h&&!b),b&&r(2,i="You already started playing, please contact admins.")}catch(h){console.log(h),r(2,i=h)}};function f(){l=this.value,r(0,l)}function k(){t=this.value,r(1,t)}return o.$$set=h=>{"authorized"in h&&r(5,a=h.authorized)},[l,t,i,s,n,a,f,k]}class ye extends ee{constructor(e){super(),te(this,e,we,ke,se,{authorized:5})}}function Ee(o){let e,r,s,a;const l=[ze,$e],t=[];function i(n,f){return n[0]?0:1}return e=i(o),r=t[e]=l[e](o),{c(){r.c(),s=S()},l(n){r.l(n),s=S()},m(n,f){t[e].m(n,f),y(n,s,f),a=!0},p(n,f){let k=e;e=i(n),e===k?t[e].p(n,f):(ie(),L(t[k],1,1,()=>{t[k]=null}),ne(),r=t[e],r?r.p(n,f):(r=t[e]=l[e](n),r.c()),N(r,1),r.m(s.parentNode,s))},i(n){a||(N(r),a=!0)},o(n){L(r),a=!1},d(n){t[e].d(n),n&&c(s)}}}function $e(o){let e,r,s;function a(t){o[1](t)}let l={};return o[0]!==void 0&&(l.authorized=o[0]),e=new ye({props:l}),ue.push(()=>ce(e,"authorized",a)),{c(){j(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,i){G(e,t,i),s=!0},p(t,i){const n={};!r&&i&1&&(r=!0,n.authorized=t[0],fe(()=>r=!1)),e.$set(n)},i(t){s||(N(e.$$.fragment,t),s=!0)},o(t){L(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function ze(o){let e,r;return e=new me({}),{c(){j(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,a){G(e,s,a),r=!0},p:C,i(s){r||(N(e.$$.fragment,s),r=!0)},o(s){L(e.$$.fragment,s),r=!1},d(s){Q(e,s)}}}function Ie(o){let e,r,s,a;e=new de({});let l=Ee(o);return{c(){j(e.$$.fragment),r=z(),l&&l.c(),s=S()},l(t){F(e.$$.fragment,t),r=I(t),l&&l.l(t),s=S()},m(t,i){G(e,t,i),y(t,r,i),l&&l.m(t,i),y(t,s,i),a=!0},p(t,[i]){l.p(t,i)},i(t){a||(N(e.$$.fragment,t),N(l),a=!0)},o(t){L(e.$$.fragment,t),L(l),a=!1},d(t){Q(e,t),t&&c(r),l&&l.d(t),t&&c(s)}}}function Se(o,e,r){let s,a,l;R(o,he,n=>r(2,s=n)),R(o,W,n=>r(3,a=n)),R(o,Z,n=>r(4,l=n)),console.log("svelte-starter version","3.0.14"),X(Z,l=s.url.pathname.includes("wod"),l),X(W,a=s.url.search.split("id=")[1],a);let t;function i(n){t=n,r(0,t)}return[t,i]}class Te extends ee{constructor(e){super(),te(this,e,Se,Ie,se,{})}}export{Te as default};
